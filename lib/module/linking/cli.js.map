{"version":3,"names":["_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","Command","chalk","PathResolver","detectModule","verifyModuleLinking","generateDiagnostics","ManualLinkingGuideGenerator","ReactNativeModuleLinkingOrchestrator","linkReactNativeModule","ReactNativeModuleLinkingCLI","constructor","pathResolver","guideGenerator","linkModule","options","result","success","message","modifiedFiles","errors","warnings","verbose","projectRoot","process","cwd","platform","dryRun","log","blue","gray","orchestratorOptions","moduleName","modulePath","platforms","skipVerification","createBackups","orchestratorResult","details","androidConfigured","androidResult","filter","f","includes","iosConfigured","iosResult","green","red","printSummary","error","push","Error","length","resolveModuleLocation","resolveModulePath","forEach","file","yellow","warning","_result$androidResult","_result$iosResult","diagnose","diagnostics","moduleConfig","name","packageName","className","androidDetails","mainApplicationFound","mainApplicationPath","packageImported","packageRegistered","settingsGradleConfigured","buildGradleConfigured","iosDetails","podfileFound","podfilePath","podConfigured","iosProjectValid","podInstallNeeded","buildSystemInfo","reactNativeVersion","nodeVersion","verification","generateGuide","format","pathResult","createModuleConfig","guideOptions","outputFormat","includeVerification","includeTroubleshooting","guide","output","saveGuide","console","setupCLI","program","cli","description","version","command","option","action","exit","_options","orchestrator","rollbackResult","performRollback","parse","require","main","module"],"sources":["cli.ts"],"sourcesContent":["#!/usr/bin/env node\n\nimport { Command } from 'commander';\nimport * as chalk from 'chalk';\nimport { \n  PathResolver, \n  detectModule,\n  type PathResolutionResult \n} from './path-resolver';\nimport { \n  verifyModuleLinking, \n  generateDiagnostics\n} from './verification';\nimport {\n  ManualLinkingGuideGenerator,\n  type ManualGuideOptions\n} from './manual-guide';\nimport {\n  ReactNativeModuleLinkingOrchestrator,\n  linkReactNativeModule,\n  type LinkingOptions\n} from './orchestrator';\n\ninterface CLIOptions {\n  platform?: 'android' | 'ios' | 'both';\n  dryRun?: boolean;\n  verbose?: boolean;\n  projectRoot?: string;\n  modulePath?: string;\n  moduleName?: string;\n  output?: string;\n  format?: 'markdown' | 'text';\n}\n\ninterface CLILinkingResult {\n  success: boolean;\n  message: string;\n  androidResult?: { success: boolean; message: string; modifiedFiles?: string[] };\n  iosResult?: { success: boolean; message: string; modifiedFiles?: string[] };\n  modifiedFiles: string[];\n  errors: string[];\n  warnings: string[];\n}\n\nclass ReactNativeModuleLinkingCLI {\n  private pathResolver: PathResolver;\n  private guideGenerator: ManualLinkingGuideGenerator;\n  private verbose: boolean = false;\n\n  constructor() {\n    this.pathResolver = new PathResolver();\n    this.guideGenerator = new ManualLinkingGuideGenerator();\n  }\n\n  /**\n   * Main linking command that orchestrates the entire process using the orchestrator\n   */\n  public async linkModule(options: CLIOptions): Promise<CLILinkingResult> {\n    const result: CLILinkingResult = {\n      success: false,\n      message: '',\n      modifiedFiles: [],\n      errors: [],\n      warnings: []\n    };\n\n    this.verbose = options.verbose || false;\n    const projectRoot = options.projectRoot || process.cwd();\n    const platform = options.platform || 'both';\n    const dryRun = options.dryRun || false;\n\n    try {\n      this.log(chalk.blue('üîó React Native Module Linking Tool'));\n      this.log(chalk.gray(`Project: ${projectRoot}`));\n      this.log(chalk.gray(`Platform: ${platform}`));\n      this.log(chalk.gray(`Mode: ${dryRun ? 'Dry Run' : 'Execute'}`));\n      this.log('');\n\n      // Use the orchestrator for the linking process\n      const orchestratorOptions: LinkingOptions = {\n        projectRoot,\n        moduleName: options.moduleName,\n        modulePath: options.modulePath,\n        platforms: platform === 'both' ? ['android', 'ios'] : [platform as 'android' | 'ios'],\n        dryRun,\n        verbose: this.verbose,\n        skipVerification: false,\n        createBackups: true\n      };\n\n      const orchestratorResult = await linkReactNativeModule(projectRoot, orchestratorOptions);\n\n      // Convert orchestrator result to CLI result format\n      result.success = orchestratorResult.success;\n      result.message = orchestratorResult.message;\n      result.modifiedFiles = orchestratorResult.modifiedFiles || [];\n      result.errors = orchestratorResult.errors || [];\n      result.warnings = orchestratorResult.warnings || [];\n\n      // Map orchestrator details to CLI result format\n      if (orchestratorResult.details.androidConfigured) {\n        result.androidResult = {\n          success: true,\n          message: 'Android configuration completed',\n          modifiedFiles: result.modifiedFiles.filter(f => f.includes('android'))\n        };\n      }\n\n      if (orchestratorResult.details.iosConfigured) {\n        result.iosResult = {\n          success: true,\n          message: 'iOS configuration completed',\n          modifiedFiles: result.modifiedFiles.filter(f => f.includes('ios'))\n        };\n      }\n\n      // Print results using orchestrator's built-in logging\n      if (result.success) {\n        this.log(chalk.green(`üéâ ${result.message}`));\n      } else {\n        this.log(chalk.red(`‚ùå ${result.message}`));\n      }\n\n      // Summary\n      this.printSummary(result, dryRun);\n\n    } catch (error) {\n      result.errors.push(error instanceof Error ? error.message : String(error));\n      result.message = 'Unexpected error during linking process';\n      this.log(chalk.red(`üí• ${result.message}: ${result.errors[result.errors.length - 1]}`));\n    }\n\n    return result;\n  }\n\n  /**\n   * Resolves the module location based on CLI options\n   */\n  private async resolveModuleLocation(\n    projectRoot: string, \n    options: CLIOptions\n  ): Promise<PathResolutionResult> {\n    if (options.modulePath) {\n      this.verbose && this.log(chalk.gray(`   Using provided path: ${options.modulePath}`));\n      return this.pathResolver.resolveModulePath(projectRoot, options.modulePath);\n    } else {\n      const moduleName = options.moduleName || 'react-native-realtime-audio-analysis';\n      this.verbose && this.log(chalk.gray(`   Detecting module: ${moduleName}`));\n      return detectModule(projectRoot, moduleName);\n    }\n  }\n\n  /**\n   * Prints a summary of the linking results\n   */\n  private printSummary(result: CLILinkingResult, dryRun: boolean): void {\n    this.log(chalk.blue('üìã Summary:'));\n    \n    if (result.modifiedFiles.length > 0) {\n      this.log(chalk.green(`   Files modified: ${result.modifiedFiles.length}`));\n      if (this.verbose) {\n        result.modifiedFiles.forEach(file => {\n          this.log(chalk.gray(`   - ${file}`));\n        });\n      }\n    } else if (!dryRun) {\n      this.log(chalk.yellow('   No files were modified (already configured)'));\n    }\n\n    if (result.warnings.length > 0) {\n      this.log(chalk.yellow(`   Warnings: ${result.warnings.length}`));\n      if (this.verbose) {\n        result.warnings.forEach(warning => {\n          this.log(chalk.yellow(`   ‚ö†Ô∏è  ${warning}`));\n        });\n      }\n    }\n\n    if (result.errors.length > 0) {\n      this.log(chalk.red(`   Errors: ${result.errors.length}`));\n      result.errors.forEach(error => {\n        this.log(chalk.red(`   ‚ùå ${error}`));\n      });\n    }\n\n    if (!dryRun && result.success) {\n      this.log('');\n      this.log(chalk.blue('üöÄ Next steps:'));\n      if (result.androidResult?.success) {\n        this.log(chalk.gray('   - For Android: Run \"cd android && ./gradlew clean\" to clean build cache'));\n      }\n      if (result.iosResult?.success) {\n        this.log(chalk.gray('   - For iOS: Run \"cd ios && pod install\" to install pod dependencies'));\n      }\n      this.log(chalk.gray('   - Rebuild your React Native app'));\n      this.log(chalk.gray('   - Test the module import in your JavaScript code'));\n    }\n  }\n\n  /**\n   * Diagnostic command to analyze current linking status\n   */\n  public async diagnose(options: CLIOptions): Promise<void> {\n    const projectRoot = options.projectRoot || process.cwd();\n    this.verbose = options.verbose || false;\n\n    this.log(chalk.blue('üîç React Native Module Linking Diagnostics'));\n    this.log(chalk.gray(`Project: ${projectRoot}`));\n    this.log('');\n\n    try {\n      const diagnostics = await generateDiagnostics(projectRoot, options.moduleName);\n      \n      // Module information\n      this.log(chalk.yellow('üì¶ Module Information:'));\n      if (diagnostics.moduleConfig) {\n        this.log(chalk.green(`   ‚úÖ Module found: ${diagnostics.moduleConfig.name}`));\n        this.log(chalk.gray(`      Path: ${diagnostics.moduleConfig.modulePath}`));\n        this.log(chalk.gray(`      Platform: ${diagnostics.moduleConfig.platform}`));\n        this.log(chalk.gray(`      Package: ${diagnostics.moduleConfig.packageName}`));\n        this.log(chalk.gray(`      Class: ${diagnostics.moduleConfig.className}`));\n      } else {\n        this.log(chalk.red('   ‚ùå Module not found'));\n      }\n      this.log('');\n\n      // Android diagnostics\n      if (diagnostics.androidDetails) {\n        this.log(chalk.yellow('ü§ñ Android Configuration:'));\n        this.log(`   MainApplication: ${diagnostics.androidDetails.mainApplicationFound ? chalk.green('‚úÖ Found') : chalk.red('‚ùå Not found')}`);\n        if (diagnostics.androidDetails.mainApplicationPath) {\n          this.log(chalk.gray(`      Path: ${diagnostics.androidDetails.mainApplicationPath}`));\n        }\n        this.log(`   Package imported: ${diagnostics.androidDetails.packageImported ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n        this.log(`   Package registered: ${diagnostics.androidDetails.packageRegistered ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n        this.log(`   settings.gradle: ${diagnostics.androidDetails.settingsGradleConfigured ? chalk.green('‚úÖ Configured') : chalk.red('‚ùå Not configured')}`);\n        this.log(`   build.gradle: ${diagnostics.androidDetails.buildGradleConfigured ? chalk.green('‚úÖ Configured') : chalk.red('‚ùå Not configured')}`);\n        this.log('');\n      }\n\n      // iOS diagnostics\n      if (diagnostics.iosDetails) {\n        this.log(chalk.yellow('üçé iOS Configuration:'));\n        this.log(`   Podfile: ${diagnostics.iosDetails.podfileFound ? chalk.green('‚úÖ Found') : chalk.red('‚ùå Not found')}`);\n        if (diagnostics.iosDetails.podfilePath) {\n          this.log(chalk.gray(`      Path: ${diagnostics.iosDetails.podfilePath}`));\n        }\n        this.log(`   Pod configured: ${diagnostics.iosDetails.podConfigured ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n        this.log(`   iOS project valid: ${diagnostics.iosDetails.iosProjectValid ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n        if (diagnostics.iosDetails.podInstallNeeded) {\n          this.log(chalk.yellow('   ‚ö†Ô∏è  pod install may be needed'));\n        }\n        this.log('');\n      }\n\n      // Build system information\n      if (diagnostics.buildSystemInfo) {\n        this.log(chalk.yellow('üîß Build System:'));\n        if (diagnostics.buildSystemInfo.reactNativeVersion) {\n          this.log(chalk.gray(`   React Native: ${diagnostics.buildSystemInfo.reactNativeVersion}`));\n        }\n        if (diagnostics.buildSystemInfo.nodeVersion) {\n          this.log(chalk.gray(`   Node.js: ${diagnostics.buildSystemInfo.nodeVersion}`));\n        }\n        this.log('');\n      }\n\n      // Run verification\n      this.log(chalk.yellow('üîç Running verification...'));\n      const verification = await verifyModuleLinking(projectRoot, options.moduleName);\n      \n      if (verification.success) {\n        this.log(chalk.green('‚úÖ Module linking verification passed'));\n      } else {\n        this.log(chalk.red('‚ùå Module linking verification failed'));\n        \n        if (verification.errors) {\n          this.log(chalk.red('   Errors:'));\n          verification.errors.forEach(error => {\n            this.log(chalk.red(`   - ${error}`));\n          });\n        }\n        \n        if (verification.warnings) {\n          this.log(chalk.yellow('   Warnings:'));\n          verification.warnings.forEach(warning => {\n            this.log(chalk.yellow(`   - ${warning}`));\n          });\n        }\n      }\n\n    } catch (error) {\n      this.log(chalk.red(`üí• Diagnostics failed: ${error instanceof Error ? error.message : String(error)}`));\n    }\n  }\n\n  /**\n   * Generates a manual linking guide\n   */\n  public async generateGuide(options: CLIOptions): Promise<void> {\n    const projectRoot = options.projectRoot || process.cwd();\n    const platform = options.platform || 'both';\n    const format = options.format || 'markdown';\n    this.verbose = options.verbose || false;\n\n    this.log(chalk.blue('üìñ Generating Manual Linking Guide'));\n    this.log(chalk.gray(`Project: ${projectRoot}`));\n    this.log(chalk.gray(`Platform: ${platform}`));\n    this.log(chalk.gray(`Format: ${format}`));\n    this.log('');\n\n    try {\n      // Resolve module configuration\n      const pathResult = await this.resolveModuleLocation(projectRoot, options);\n      \n      if (!pathResult.success || !pathResult.modulePath) {\n        this.log(chalk.red(`‚ùå Module not found: ${pathResult.error}`));\n        return;\n      }\n\n      const moduleConfig = this.pathResolver.createModuleConfig(pathResult);\n      if (!moduleConfig) {\n        this.log(chalk.red('‚ùå Failed to create module configuration'));\n        return;\n      }\n\n      this.log(chalk.green(`‚úÖ Module found: ${moduleConfig.modulePath}`));\n      this.log(chalk.gray(`   Platforms: ${moduleConfig.platform}`));\n      this.log('');\n\n      // Generate guide\n      this.log(chalk.yellow('üìù Generating guide...'));\n      \n      const guideOptions: ManualGuideOptions = {\n        platform,\n        projectRoot,\n        moduleConfig,\n        outputFormat: format,\n        includeVerification: true,\n        includeTroubleshooting: true\n      };\n\n      const guide = this.guideGenerator.generateGuide(guideOptions);\n\n      // Output guide\n      if (options.output) {\n        this.guideGenerator.saveGuide(guide, options.output);\n        this.log(chalk.green(`‚úÖ Guide saved to: ${options.output}`));\n      } else {\n        this.log(chalk.blue('üìã Generated Manual Linking Guide:'));\n        this.log('');\n        console.log(guide);\n      }\n\n    } catch (error) {\n      this.log(chalk.red(`üí• Guide generation failed: ${error instanceof Error ? error.message : String(error)}`));\n    }\n  }\n\n  /**\n   * Utility method for logging with verbose control\n   */\n  private log(message: string): void {\n    console.log(message);\n  }\n}\n\n/**\n * CLI Program Setup\n */\nfunction setupCLI(): void {\n  const program = new Command();\n  const cli = new ReactNativeModuleLinkingCLI();\n\n  program\n    .name('rn-module-link')\n    .description('React Native Module Linking Tool for react-native-realtime-audio-analysis')\n    .version('1.0.0');\n\n  // Link command\n  program\n    .command('link')\n    .description('Link the React Native module to your project')\n    .option('-p, --platform <platform>', 'Target platform (android, ios, both)', 'both')\n    .option('-d, --dry-run', 'Preview changes without modifying files', false)\n    .option('-v, --verbose', 'Enable verbose logging', false)\n    .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n    .option('-m, --module-path <path>', 'Path to the module directory')\n    .option('-n, --module-name <name>', 'Module name to link', 'react-native-realtime-audio-analysis')\n    .action(async (options: CLIOptions) => {\n      const result = await cli.linkModule(options);\n      process.exit(result.success ? 0 : 1);\n    });\n\n  // Diagnose command\n  program\n    .command('diagnose')\n    .description('Diagnose current module linking status')\n    .option('-v, --verbose', 'Enable verbose logging', false)\n    .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n    .option('-n, --module-name <name>', 'Module name to diagnose', 'react-native-realtime-audio-analysis')\n    .action(async (options: CLIOptions) => {\n      await cli.diagnose(options);\n    });\n\n  // Verify command\n  program\n    .command('verify')\n    .description('Verify module linking configuration')\n    .option('-v, --verbose', 'Enable verbose logging', false)\n    .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n    .option('-n, --module-name <name>', 'Module name to verify', 'react-native-realtime-audio-analysis')\n    .action(async (options: CLIOptions) => {\n      try {\n        const verification = await verifyModuleLinking(options.projectRoot || process.cwd(), options.moduleName);\n        \n        console.log(chalk.blue('üîç Module Linking Verification'));\n        console.log('');\n        \n        if (verification.success) {\n          console.log(chalk.green('‚úÖ Verification passed'));\n          console.log(chalk.gray(`   ${verification.message}`));\n        } else {\n          console.log(chalk.red('‚ùå Verification failed'));\n          console.log(chalk.gray(`   ${verification.message}`));\n          \n          if (verification.errors) {\n            console.log(chalk.red('   Errors:'));\n            verification.errors.forEach(error => {\n              console.log(chalk.red(`   - ${error}`));\n            });\n          }\n          \n          if (verification.warnings) {\n            console.log(chalk.yellow('   Warnings:'));\n            verification.warnings.forEach(warning => {\n              console.log(chalk.yellow(`   - ${warning}`));\n            });\n          }\n        }\n        \n        process.exit(verification.success ? 0 : 1);\n      } catch (error) {\n        console.log(chalk.red(`üí• Verification failed: ${error instanceof Error ? error.message : String(error)}`));\n        process.exit(1);\n      }\n    });\n\n  // Guide command\n  program\n    .command('guide')\n    .description('Generate manual linking guide')\n    .option('-p, --platform <platform>', 'Target platform (android, ios, both)', 'both')\n    .option('-f, --format <format>', 'Output format (markdown, text)', 'markdown')\n    .option('-o, --output <path>', 'Output file path (prints to console if not specified)')\n    .option('-v, --verbose', 'Enable verbose logging', false)\n    .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n    .option('-n, --module-name <name>', 'Module name for guide', 'react-native-realtime-audio-analysis')\n    .action(async (options: CLIOptions) => {\n      await cli.generateGuide(options);\n    });\n\n  // Rollback command\n  program\n    .command('rollback')\n    .description('Rollback previous linking changes')\n    .option('-v, --verbose', 'Enable verbose logging', false)\n    .action(async (_options: CLIOptions) => {\n      try {\n        console.log(chalk.blue('üîÑ Rolling back module linking changes...'));\n        console.log('');\n        \n        const orchestrator = new ReactNativeModuleLinkingOrchestrator();\n        const rollbackResult = await orchestrator.performRollback();\n        \n        if (rollbackResult.success) {\n          console.log(chalk.green('‚úÖ Rollback completed successfully'));\n          console.log(chalk.gray(`   ${rollbackResult.message}`));\n        } else {\n          console.log(chalk.red('‚ùå Rollback failed'));\n          console.log(chalk.gray(`   ${rollbackResult.message}`));\n          \n          if (rollbackResult.errors) {\n            console.log(chalk.red('   Errors:'));\n            rollbackResult.errors.forEach(error => {\n              console.log(chalk.red(`   - ${error}`));\n            });\n          }\n        }\n        \n        process.exit(rollbackResult.success ? 0 : 1);\n      } catch (error) {\n        console.log(chalk.red(`üí• Rollback failed: ${error instanceof Error ? error.message : String(error)}`));\n        process.exit(1);\n      }\n    });\n\n  program.parse();\n}\n\n// Run CLI if this file is executed directly\nif (require.main === module) {\n  setupCLI();\n}\n\nexport { ReactNativeModuleLinkingCLI, setupCLI };\nexport type { CLIOptions, CLILinkingResult };"],"mappings":"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","ignoreList":[]}
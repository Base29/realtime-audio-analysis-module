{"version":3,"names":["fs","path","PathResolver","IOSConfigManager","ModuleLinkingVerifier","constructor","_defineProperty","pathResolver","iosManager","verifyModuleLinking","projectRoot","moduleName","errors","warnings","pathResult","detectModuleLocation","success","message","details","createEmptyDetails","error","moduleConfig","createModuleConfig","androidVerification","verifyAndroidConfiguration","iosVerification","verifyIOSConfiguration","importTest","testModuleImport","moduleFound","androidConfigured","configured","iosConfigured","buildConfigValid","buildValid","importTestPassed","registrationVerified","registered","push","overallSuccess","length","undefined","Error","String","platform","mainAppPath","findMainApplicationFile","mainAppContent","readFileSync","isImported","checkPackageImported","isRegistered","checkPackageRegistered","basename","verifyAndroidBuildConfiguration","valid","_podfileInfo$pods","podfileInfo","getPodfileInfo","exists","isPodConfigured","pods","includes","name","podlockPath","join","podInstallNeeded","existsSync","_packageJson$dependen","_packageJson$devDepen","_packageJson$peerDepe","packageJsonPath","packageJson","JSON","parse","isInDependencies","dependencies","devDependencies","peerDependencies","moduleIndexPath","modulePath","modulePackageJsonPath","mainEntryExists","modulePackageJson","mainEntry","main","mainEntryPath","hasTypeDefinitions","generateDiagnostics","diagnostics","_diagnostics$moduleCo","_diagnostics$moduleCo2","androidDetails","generateAndroidDiagnostics","iosDetails","generateIOSDiagnostics","buildSystemInfo","generateBuildSystemInfo","console","warn","androidAppPath","findMainApp","dir","files","readdirSync","file","filePath","stat","statSync","isDirectory","result","content","importPattern","RegExp","packageName","className","test","packagePattern","settingsPath","settingsContent","projectName","buildGradlePath","buildContent","dependencyStatement","mainApplicationPath","mainApplicationFound","packageImported","packageRegistered","settingsGradleConfigured","buildGradleConfigured","buildConfig","some","e","buildFilesValid","_podfileInfo$pods2","podConfigured","iosProjectValid","validateIOSProject","podfileFound","podfilePath","info","_packageJson$dependen2","_packageJson$devDepen2","reactNativeVersion","nodeVersion","process","version","verifier"],"sources":["verification.ts"],"sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\nimport { ModuleConfig, PathResolver } from './path-resolver';\nimport { IOSConfigManager } from './ios-config';\n\nexport interface VerificationResult {\n  success: boolean;\n  message: string;\n  details: VerificationDetails;\n  errors?: string[];\n  warnings?: string[];\n}\n\nexport interface VerificationDetails {\n  moduleFound: boolean;\n  androidConfigured: boolean;\n  iosConfigured: boolean;\n  buildConfigValid: boolean;\n  importTestPassed: boolean;\n  registrationVerified: boolean;\n}\n\nexport interface DiagnosticInfo {\n  projectRoot: string;\n  moduleConfig?: ModuleConfig;\n  androidDetails?: AndroidDiagnostics;\n  iosDetails?: IOSDiagnostics;\n  buildSystemInfo?: BuildSystemInfo;\n}\n\nexport interface AndroidDiagnostics {\n  mainApplicationFound: boolean;\n  mainApplicationPath?: string;\n  packageImported: boolean;\n  packageRegistered: boolean;\n  settingsGradleConfigured: boolean;\n  buildGradleConfigured: boolean;\n  buildFilesValid: boolean;\n}\n\nexport interface IOSDiagnostics {\n  podfileFound: boolean;\n  podfilePath?: string;\n  podConfigured: boolean;\n  iosProjectValid: boolean;\n  podInstallNeeded: boolean;\n}\n\nexport interface BuildSystemInfo {\n  gradleVersion?: string;\n  podVersion?: string;\n  reactNativeVersion?: string;\n  nodeVersion?: string;\n}\n\nexport class ModuleLinkingVerifier {\n  private pathResolver: PathResolver;\n  private iosManager: IOSConfigManager;\n\n  constructor() {\n    this.pathResolver = new PathResolver();\n    this.iosManager = new IOSConfigManager();\n  }\n\n  /**\n   * Performs comprehensive verification of module linking\n   */\n  public async verifyModuleLinking(\n    projectRoot: string, \n    moduleName?: string\n  ): Promise<VerificationResult> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n    \n    try {\n      // Step 1: Detect module location\n      const pathResult = this.pathResolver.detectModuleLocation(projectRoot, moduleName);\n      if (!pathResult.success) {\n        return {\n          success: false,\n          message: 'Module not found',\n          details: this.createEmptyDetails(),\n          errors: [pathResult.error || 'Unknown path resolution error']\n        };\n      }\n\n      const moduleConfig = this.pathResolver.createModuleConfig(pathResult);\n      if (!moduleConfig) {\n        return {\n          success: false,\n          message: 'Failed to create module configuration',\n          details: this.createEmptyDetails(),\n          errors: ['Could not create module configuration from path result']\n        };\n      }\n\n      // Step 2: Verify Android configuration\n      const androidVerification = await this.verifyAndroidConfiguration(projectRoot, moduleConfig);\n      \n      // Step 3: Verify iOS configuration  \n      const iosVerification = await this.verifyIOSConfiguration(projectRoot, moduleConfig);\n\n      // Step 4: Test basic module import\n      const importTest = await this.testModuleImport(projectRoot, moduleConfig);\n\n      // Compile results\n      const details: VerificationDetails = {\n        moduleFound: true,\n        androidConfigured: androidVerification.configured,\n        iosConfigured: iosVerification.configured,\n        buildConfigValid: androidVerification.buildValid && iosVerification.buildValid,\n        importTestPassed: importTest.success,\n        registrationVerified: androidVerification.registered || iosVerification.registered\n      };\n\n      // Collect errors and warnings\n      errors.push(...androidVerification.errors, ...iosVerification.errors, ...importTest.errors);\n      warnings.push(...androidVerification.warnings, ...iosVerification.warnings, ...importTest.warnings);\n\n      const overallSuccess = details.moduleFound && \n                           (details.androidConfigured || details.iosConfigured) &&\n                           details.buildConfigValid &&\n                           details.registrationVerified;\n\n      return {\n        success: overallSuccess,\n        message: overallSuccess ? 'Module linking verification passed' : 'Module linking verification failed',\n        details,\n        errors: errors.length > 0 ? errors : undefined,\n        warnings: warnings.length > 0 ? warnings : undefined\n      };\n\n    } catch (error) {\n      return {\n        success: false,\n        message: 'Verification process failed',\n        details: this.createEmptyDetails(),\n        errors: [error instanceof Error ? error.message : String(error)]\n      };\n    }\n  }\n\n  /**\n   * Verifies Android platform configuration\n   */\n  private async verifyAndroidConfiguration(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): Promise<{\n    configured: boolean;\n    registered: boolean;\n    buildValid: boolean;\n    errors: string[];\n    warnings: string[];\n  }> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    try {\n      // Check if Android platform is supported\n      if (moduleConfig.platform === 'ios') {\n        return {\n          configured: false,\n          registered: false,\n          buildValid: true, // Not applicable\n          errors: [],\n          warnings: ['Module does not support Android platform']\n        };\n      }\n\n      // Verify MainApplication configuration\n      const mainAppPath = this.findMainApplicationFile(projectRoot);\n      if (!mainAppPath) {\n        errors.push('MainApplication file not found');\n        return { configured: false, registered: false, buildValid: false, errors, warnings };\n      }\n\n      const mainAppContent = fs.readFileSync(mainAppPath, 'utf8');\n      const isImported = this.checkPackageImported(mainAppContent, moduleConfig);\n      const isRegistered = this.checkPackageRegistered(mainAppContent, moduleConfig);\n\n      if (!isImported) {\n        errors.push(`Package import missing in ${path.basename(mainAppPath)}`);\n      }\n      if (!isRegistered) {\n        errors.push(`Package not registered in getPackages() method`);\n      }\n\n      // Verify build configuration\n      const buildConfigValid = this.verifyAndroidBuildConfiguration(projectRoot, moduleConfig);\n      if (!buildConfigValid.valid) {\n        errors.push(...buildConfigValid.errors);\n      }\n\n      const configured = isImported && isRegistered;\n      const registered = isRegistered;\n\n      return {\n        configured,\n        registered,\n        buildValid: buildConfigValid.valid,\n        errors,\n        warnings\n      };\n\n    } catch (error) {\n      errors.push(`Android verification failed: ${error instanceof Error ? error.message : String(error)}`);\n      return { configured: false, registered: false, buildValid: false, errors, warnings };\n    }\n  }\n\n  /**\n   * Verifies iOS platform configuration\n   */\n  private async verifyIOSConfiguration(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): Promise<{\n    configured: boolean;\n    registered: boolean;\n    buildValid: boolean;\n    errors: string[];\n    warnings: string[];\n  }> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    try {\n      // Check if iOS platform is supported\n      if (moduleConfig.platform === 'android') {\n        return {\n          configured: false,\n          registered: false,\n          buildValid: true, // Not applicable\n          errors: [],\n          warnings: ['Module does not support iOS platform']\n        };\n      }\n\n      // Verify Podfile configuration\n      const podfileInfo = this.iosManager.getPodfileInfo(projectRoot);\n      if (!podfileInfo.exists) {\n        errors.push('Podfile not found');\n        return { configured: false, registered: false, buildValid: false, errors, warnings };\n      }\n\n      const isPodConfigured = podfileInfo.pods?.includes(moduleConfig.name) || false;\n      if (!isPodConfigured) {\n        errors.push(`Pod '${moduleConfig.name}' not found in Podfile`);\n      }\n\n      // Check if pod install is needed\n      const podlockPath = path.join(projectRoot, 'ios', 'Podfile.lock');\n      const podInstallNeeded = !fs.existsSync(podlockPath);\n      if (podInstallNeeded) {\n        warnings.push('pod install may be needed - Podfile.lock not found');\n      }\n\n      return {\n        configured: isPodConfigured,\n        registered: isPodConfigured, // For iOS, configured means registered\n        buildValid: true, // iOS build validation is more complex and typically handled by Xcode\n        errors,\n        warnings\n      };\n\n    } catch (error) {\n      errors.push(`iOS verification failed: ${error instanceof Error ? error.message : String(error)}`);\n      return { configured: false, registered: false, buildValid: false, errors, warnings };\n    }\n  }\n\n  /**\n   * Tests basic module import functionality\n   */\n  private async testModuleImport(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): Promise<{\n    success: boolean;\n    errors: string[];\n    warnings: string[];\n  }> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    try {\n      // Check if the module can be imported from JavaScript\n      const packageJsonPath = path.join(projectRoot, 'package.json');\n      if (!fs.existsSync(packageJsonPath)) {\n        errors.push('package.json not found in project root');\n        return { success: false, errors, warnings };\n      }\n\n      const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));\n      \n      // Check if module is listed in dependencies\n      const isInDependencies = packageJson.dependencies?.[moduleConfig.name] ||\n                              packageJson.devDependencies?.[moduleConfig.name] ||\n                              packageJson.peerDependencies?.[moduleConfig.name];\n\n      if (!isInDependencies) {\n        warnings.push(`Module '${moduleConfig.name}' not found in package.json dependencies`);\n      }\n\n      // Try to resolve the module's main entry point\n      const moduleIndexPath = path.join(moduleConfig.modulePath, 'index.js');\n      const modulePackageJsonPath = path.join(moduleConfig.modulePath, 'package.json');\n      \n      let mainEntryExists = false;\n      if (fs.existsSync(modulePackageJsonPath)) {\n        try {\n          const modulePackageJson = JSON.parse(fs.readFileSync(modulePackageJsonPath, 'utf8'));\n          const mainEntry = modulePackageJson.main || 'index.js';\n          const mainEntryPath = path.join(moduleConfig.modulePath, mainEntry);\n          mainEntryExists = fs.existsSync(mainEntryPath);\n        } catch (error) {\n          warnings.push('Could not parse module package.json');\n        }\n      } else if (fs.existsSync(moduleIndexPath)) {\n        mainEntryExists = true;\n      }\n\n      if (!mainEntryExists) {\n        errors.push('Module main entry point not found');\n      }\n\n      // Check for TypeScript definitions if applicable\n      const hasTypeDefinitions = fs.existsSync(path.join(moduleConfig.modulePath, 'index.d.ts')) ||\n                                fs.existsSync(path.join(moduleConfig.modulePath, 'lib', 'typescript'));\n\n      if (!hasTypeDefinitions) {\n        warnings.push('TypeScript definitions not found - may cause import issues in TypeScript projects');\n      }\n\n      return {\n        success: mainEntryExists && errors.length === 0,\n        errors,\n        warnings\n      };\n\n    } catch (error) {\n      errors.push(`Import test failed: ${error instanceof Error ? error.message : String(error)}`);\n      return { success: false, errors, warnings };\n    }\n  }\n\n  /**\n   * Generates comprehensive diagnostic information\n   */\n  public async generateDiagnostics(\n    projectRoot: string, \n    moduleName?: string\n  ): Promise<DiagnosticInfo> {\n    const diagnostics: DiagnosticInfo = {\n      projectRoot\n    };\n\n    try {\n      // Get module configuration\n      const pathResult = this.pathResolver.detectModuleLocation(projectRoot, moduleName);\n      if (pathResult.success) {\n        diagnostics.moduleConfig = this.pathResolver.createModuleConfig(pathResult) || undefined;\n      }\n\n      // Android diagnostics\n      if (diagnostics.moduleConfig?.platform !== 'ios') {\n        diagnostics.androidDetails = await this.generateAndroidDiagnostics(projectRoot, diagnostics.moduleConfig);\n      }\n\n      // iOS diagnostics\n      if (diagnostics.moduleConfig?.platform !== 'android') {\n        diagnostics.iosDetails = await this.generateIOSDiagnostics(projectRoot, diagnostics.moduleConfig);\n      }\n\n      // Build system information\n      diagnostics.buildSystemInfo = await this.generateBuildSystemInfo(projectRoot);\n\n    } catch (error) {\n      // Diagnostics should not fail completely, just log what we can\n      console.warn('Error generating diagnostics:', error);\n    }\n\n    return diagnostics;\n  }\n\n  /**\n   * Helper methods\n   */\n  private createEmptyDetails(): VerificationDetails {\n    return {\n      moduleFound: false,\n      androidConfigured: false,\n      iosConfigured: false,\n      buildConfigValid: false,\n      importTestPassed: false,\n      registrationVerified: false\n    };\n  }\n\n  private findMainApplicationFile(projectRoot: string): string | null {\n    const androidAppPath = path.join(projectRoot, 'android', 'app', 'src', 'main', 'java');\n    \n    if (!fs.existsSync(androidAppPath)) {\n      return null;\n    }\n\n    const findMainApp = (dir: string): string | null => {\n      const files = fs.readdirSync(dir);\n      \n      for (const file of files) {\n        const filePath = path.join(dir, file);\n        const stat = fs.statSync(filePath);\n        \n        if (stat.isDirectory()) {\n          const result = findMainApp(filePath);\n          if (result) return result;\n        } else if (file === 'MainApplication.kt' || file === 'MainApplication.java') {\n          return filePath;\n        }\n      }\n      \n      return null;\n    };\n\n    return findMainApp(androidAppPath);\n  }\n\n  private checkPackageImported(content: string, moduleConfig: ModuleConfig): boolean {\n    const importPattern = new RegExp(`import\\\\s+${moduleConfig.packageName}\\\\.${moduleConfig.className}`);\n    return importPattern.test(content);\n  }\n\n  private checkPackageRegistered(content: string, moduleConfig: ModuleConfig): boolean {\n    const packagePattern = new RegExp(`${moduleConfig.className}\\\\(\\\\)`);\n    return packagePattern.test(content);\n  }\n\n  private verifyAndroidBuildConfiguration(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): { valid: boolean; errors: string[] } {\n    const errors: string[] = [];\n\n    // Check settings.gradle\n    const settingsPath = path.join(projectRoot, 'android', 'settings.gradle');\n    if (fs.existsSync(settingsPath)) {\n      const settingsContent = fs.readFileSync(settingsPath, 'utf8');\n      const projectName = `:${moduleConfig.name}`;\n      if (!settingsContent.includes(projectName)) {\n        errors.push(`Project '${projectName}' not included in settings.gradle`);\n      }\n    } else {\n      errors.push('settings.gradle not found');\n    }\n\n    // Check app/build.gradle\n    const buildGradlePath = path.join(projectRoot, 'android', 'app', 'build.gradle');\n    if (fs.existsSync(buildGradlePath)) {\n      const buildContent = fs.readFileSync(buildGradlePath, 'utf8');\n      const dependencyStatement = `implementation project(':${moduleConfig.name}')`;\n      if (!buildContent.includes(dependencyStatement)) {\n        errors.push(`Dependency '${dependencyStatement}' not found in app/build.gradle`);\n      }\n    } else {\n      errors.push('app/build.gradle not found');\n    }\n\n    return { valid: errors.length === 0, errors };\n  }\n\n  private async generateAndroidDiagnostics(\n    projectRoot: string, \n    moduleConfig?: ModuleConfig\n  ): Promise<AndroidDiagnostics> {\n    const mainApplicationPath = this.findMainApplicationFile(projectRoot);\n    const mainApplicationFound = !!mainApplicationPath;\n    \n    let packageImported = false;\n    let packageRegistered = false;\n    \n    if (mainApplicationPath && moduleConfig) {\n      const content = fs.readFileSync(mainApplicationPath, 'utf8');\n      packageImported = this.checkPackageImported(content, moduleConfig);\n      packageRegistered = this.checkPackageRegistered(content, moduleConfig);\n    }\n\n    let settingsGradleConfigured = false;\n    let buildGradleConfigured = false;\n    \n    if (moduleConfig) {\n      const buildConfig = this.verifyAndroidBuildConfiguration(projectRoot, moduleConfig);\n      settingsGradleConfigured = !buildConfig.errors.some(e => e.includes('settings.gradle'));\n      buildGradleConfigured = !buildConfig.errors.some(e => e.includes('build.gradle'));\n    }\n\n    return {\n      mainApplicationFound,\n      mainApplicationPath: mainApplicationPath || undefined,\n      packageImported,\n      packageRegistered,\n      settingsGradleConfigured,\n      buildGradleConfigured,\n      buildFilesValid: settingsGradleConfigured && buildGradleConfigured\n    };\n  }\n\n  private async generateIOSDiagnostics(\n    projectRoot: string, \n    moduleConfig?: ModuleConfig\n  ): Promise<IOSDiagnostics> {\n    const podfileInfo = this.iosManager.getPodfileInfo(projectRoot);\n    const podConfigured = moduleConfig ? (podfileInfo.pods?.includes(moduleConfig.name) || false) : false;\n    const iosProjectValid = this.iosManager.validateIOSProject(projectRoot).success;\n    const podInstallNeeded = !fs.existsSync(path.join(projectRoot, 'ios', 'Podfile.lock'));\n\n    return {\n      podfileFound: podfileInfo.exists,\n      podfilePath: podfileInfo.path,\n      podConfigured,\n      iosProjectValid,\n      podInstallNeeded\n    };\n  }\n\n  private async generateBuildSystemInfo(projectRoot: string): Promise<BuildSystemInfo> {\n    const info: BuildSystemInfo = {};\n\n    try {\n      // Get React Native version\n      const packageJsonPath = path.join(projectRoot, 'package.json');\n      if (fs.existsSync(packageJsonPath)) {\n        const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));\n        info.reactNativeVersion = packageJson.dependencies?.['react-native'] || \n                                 packageJson.devDependencies?.['react-native'];\n      }\n\n      // Get Node version\n      info.nodeVersion = process.version;\n\n    } catch (error) {\n      // Ignore errors in build system info gathering\n    }\n\n    return info;\n  }\n}\n\n/**\n * Convenience function to verify module linking\n */\nexport async function verifyModuleLinking(\n  projectRoot: string, \n  moduleName?: string\n): Promise<VerificationResult> {\n  const verifier = new ModuleLinkingVerifier();\n  return verifier.verifyModuleLinking(projectRoot, moduleName);\n}\n\n/**\n * Convenience function to generate diagnostics\n */\nexport async function generateDiagnostics(\n  projectRoot: string, \n  moduleName?: string\n): Promise<DiagnosticInfo> {\n  const verifier = new ModuleLinkingVerifier();\n  return verifier.generateDiagnostics(projectRoot, moduleName);\n}"],"mappings":";;;AAAA,OAAO,KAAKA,EAAE,MAAM,IAAI;AACxB,OAAO,KAAKC,IAAI,MAAM,MAAM;AAC5B,SAAuBC,YAAY,QAAQ,iBAAiB;AAC5D,SAASC,gBAAgB,QAAQ,cAAc;AAoD/C,OAAO,MAAMC,qBAAqB,CAAC;EAIjCC,WAAWA,CAAA,EAAG;IAAAC,eAAA;IAAAA,eAAA;IACZ,IAAI,CAACC,YAAY,GAAG,IAAIL,YAAY,CAAC,CAAC;IACtC,IAAI,CAACM,UAAU,GAAG,IAAIL,gBAAgB,CAAC,CAAC;EAC1C;;EAEA;AACF;AACA;EACE,MAAaM,mBAAmBA,CAC9BC,WAAmB,EACnBC,UAAmB,EACU;IAC7B,MAAMC,MAAgB,GAAG,EAAE;IAC3B,MAAMC,QAAkB,GAAG,EAAE;IAE7B,IAAI;MACF;MACA,MAAMC,UAAU,GAAG,IAAI,CAACP,YAAY,CAACQ,oBAAoB,CAACL,WAAW,EAAEC,UAAU,CAAC;MAClF,IAAI,CAACG,UAAU,CAACE,OAAO,EAAE;QACvB,OAAO;UACLA,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE,kBAAkB;UAC3BC,OAAO,EAAE,IAAI,CAACC,kBAAkB,CAAC,CAAC;UAClCP,MAAM,EAAE,CAACE,UAAU,CAACM,KAAK,IAAI,+BAA+B;QAC9D,CAAC;MACH;MAEA,MAAMC,YAAY,GAAG,IAAI,CAACd,YAAY,CAACe,kBAAkB,CAACR,UAAU,CAAC;MACrE,IAAI,CAACO,YAAY,EAAE;QACjB,OAAO;UACLL,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE,uCAAuC;UAChDC,OAAO,EAAE,IAAI,CAACC,kBAAkB,CAAC,CAAC;UAClCP,MAAM,EAAE,CAAC,wDAAwD;QACnE,CAAC;MACH;;MAEA;MACA,MAAMW,mBAAmB,GAAG,MAAM,IAAI,CAACC,0BAA0B,CAACd,WAAW,EAAEW,YAAY,CAAC;;MAE5F;MACA,MAAMI,eAAe,GAAG,MAAM,IAAI,CAACC,sBAAsB,CAAChB,WAAW,EAAEW,YAAY,CAAC;;MAEpF;MACA,MAAMM,UAAU,GAAG,MAAM,IAAI,CAACC,gBAAgB,CAAClB,WAAW,EAAEW,YAAY,CAAC;;MAEzE;MACA,MAAMH,OAA4B,GAAG;QACnCW,WAAW,EAAE,IAAI;QACjBC,iBAAiB,EAAEP,mBAAmB,CAACQ,UAAU;QACjDC,aAAa,EAAEP,eAAe,CAACM,UAAU;QACzCE,gBAAgB,EAAEV,mBAAmB,CAACW,UAAU,IAAIT,eAAe,CAACS,UAAU;QAC9EC,gBAAgB,EAAER,UAAU,CAACX,OAAO;QACpCoB,oBAAoB,EAAEb,mBAAmB,CAACc,UAAU,IAAIZ,eAAe,CAACY;MAC1E,CAAC;;MAED;MACAzB,MAAM,CAAC0B,IAAI,CAAC,GAAGf,mBAAmB,CAACX,MAAM,EAAE,GAAGa,eAAe,CAACb,MAAM,EAAE,GAAGe,UAAU,CAACf,MAAM,CAAC;MAC3FC,QAAQ,CAACyB,IAAI,CAAC,GAAGf,mBAAmB,CAACV,QAAQ,EAAE,GAAGY,eAAe,CAACZ,QAAQ,EAAE,GAAGc,UAAU,CAACd,QAAQ,CAAC;MAEnG,MAAM0B,cAAc,GAAGrB,OAAO,CAACW,WAAW,KACpBX,OAAO,CAACY,iBAAiB,IAAIZ,OAAO,CAACc,aAAa,CAAC,IACpDd,OAAO,CAACe,gBAAgB,IACxBf,OAAO,CAACkB,oBAAoB;MAEjD,OAAO;QACLpB,OAAO,EAAEuB,cAAc;QACvBtB,OAAO,EAAEsB,cAAc,GAAG,oCAAoC,GAAG,oCAAoC;QACrGrB,OAAO;QACPN,MAAM,EAAEA,MAAM,CAAC4B,MAAM,GAAG,CAAC,GAAG5B,MAAM,GAAG6B,SAAS;QAC9C5B,QAAQ,EAAEA,QAAQ,CAAC2B,MAAM,GAAG,CAAC,GAAG3B,QAAQ,GAAG4B;MAC7C,CAAC;IAEH,CAAC,CAAC,OAAOrB,KAAK,EAAE;MACd,OAAO;QACLJ,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,6BAA6B;QACtCC,OAAO,EAAE,IAAI,CAACC,kBAAkB,CAAC,CAAC;QAClCP,MAAM,EAAE,CAACQ,KAAK,YAAYsB,KAAK,GAAGtB,KAAK,CAACH,OAAO,GAAG0B,MAAM,CAACvB,KAAK,CAAC;MACjE,CAAC;IACH;EACF;;EAEA;AACF;AACA;EACE,MAAcI,0BAA0BA,CACtCd,WAAmB,EACnBW,YAA0B,EAOzB;IACD,MAAMT,MAAgB,GAAG,EAAE;IAC3B,MAAMC,QAAkB,GAAG,EAAE;IAE7B,IAAI;MACF;MACA,IAAIQ,YAAY,CAACuB,QAAQ,KAAK,KAAK,EAAE;QACnC,OAAO;UACLb,UAAU,EAAE,KAAK;UACjBM,UAAU,EAAE,KAAK;UACjBH,UAAU,EAAE,IAAI;UAAE;UAClBtB,MAAM,EAAE,EAAE;UACVC,QAAQ,EAAE,CAAC,0CAA0C;QACvD,CAAC;MACH;;MAEA;MACA,MAAMgC,WAAW,GAAG,IAAI,CAACC,uBAAuB,CAACpC,WAAW,CAAC;MAC7D,IAAI,CAACmC,WAAW,EAAE;QAChBjC,MAAM,CAAC0B,IAAI,CAAC,gCAAgC,CAAC;QAC7C,OAAO;UAAEP,UAAU,EAAE,KAAK;UAAEM,UAAU,EAAE,KAAK;UAAEH,UAAU,EAAE,KAAK;UAAEtB,MAAM;UAAEC;QAAS,CAAC;MACtF;MAEA,MAAMkC,cAAc,GAAG/C,EAAE,CAACgD,YAAY,CAACH,WAAW,EAAE,MAAM,CAAC;MAC3D,MAAMI,UAAU,GAAG,IAAI,CAACC,oBAAoB,CAACH,cAAc,EAAE1B,YAAY,CAAC;MAC1E,MAAM8B,YAAY,GAAG,IAAI,CAACC,sBAAsB,CAACL,cAAc,EAAE1B,YAAY,CAAC;MAE9E,IAAI,CAAC4B,UAAU,EAAE;QACfrC,MAAM,CAAC0B,IAAI,CAAC,6BAA6BrC,IAAI,CAACoD,QAAQ,CAACR,WAAW,CAAC,EAAE,CAAC;MACxE;MACA,IAAI,CAACM,YAAY,EAAE;QACjBvC,MAAM,CAAC0B,IAAI,CAAC,gDAAgD,CAAC;MAC/D;;MAEA;MACA,MAAML,gBAAgB,GAAG,IAAI,CAACqB,+BAA+B,CAAC5C,WAAW,EAAEW,YAAY,CAAC;MACxF,IAAI,CAACY,gBAAgB,CAACsB,KAAK,EAAE;QAC3B3C,MAAM,CAAC0B,IAAI,CAAC,GAAGL,gBAAgB,CAACrB,MAAM,CAAC;MACzC;MAEA,MAAMmB,UAAU,GAAGkB,UAAU,IAAIE,YAAY;MAC7C,MAAMd,UAAU,GAAGc,YAAY;MAE/B,OAAO;QACLpB,UAAU;QACVM,UAAU;QACVH,UAAU,EAAED,gBAAgB,CAACsB,KAAK;QAClC3C,MAAM;QACNC;MACF,CAAC;IAEH,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdR,MAAM,CAAC0B,IAAI,CAAC,gCAAgClB,KAAK,YAAYsB,KAAK,GAAGtB,KAAK,CAACH,OAAO,GAAG0B,MAAM,CAACvB,KAAK,CAAC,EAAE,CAAC;MACrG,OAAO;QAAEW,UAAU,EAAE,KAAK;QAAEM,UAAU,EAAE,KAAK;QAAEH,UAAU,EAAE,KAAK;QAAEtB,MAAM;QAAEC;MAAS,CAAC;IACtF;EACF;;EAEA;AACF;AACA;EACE,MAAca,sBAAsBA,CAClChB,WAAmB,EACnBW,YAA0B,EAOzB;IACD,MAAMT,MAAgB,GAAG,EAAE;IAC3B,MAAMC,QAAkB,GAAG,EAAE;IAE7B,IAAI;MAAA,IAAA2C,iBAAA;MACF;MACA,IAAInC,YAAY,CAACuB,QAAQ,KAAK,SAAS,EAAE;QACvC,OAAO;UACLb,UAAU,EAAE,KAAK;UACjBM,UAAU,EAAE,KAAK;UACjBH,UAAU,EAAE,IAAI;UAAE;UAClBtB,MAAM,EAAE,EAAE;UACVC,QAAQ,EAAE,CAAC,sCAAsC;QACnD,CAAC;MACH;;MAEA;MACA,MAAM4C,WAAW,GAAG,IAAI,CAACjD,UAAU,CAACkD,cAAc,CAAChD,WAAW,CAAC;MAC/D,IAAI,CAAC+C,WAAW,CAACE,MAAM,EAAE;QACvB/C,MAAM,CAAC0B,IAAI,CAAC,mBAAmB,CAAC;QAChC,OAAO;UAAEP,UAAU,EAAE,KAAK;UAAEM,UAAU,EAAE,KAAK;UAAEH,UAAU,EAAE,KAAK;UAAEtB,MAAM;UAAEC;QAAS,CAAC;MACtF;MAEA,MAAM+C,eAAe,GAAG,EAAAJ,iBAAA,GAAAC,WAAW,CAACI,IAAI,cAAAL,iBAAA,uBAAhBA,iBAAA,CAAkBM,QAAQ,CAACzC,YAAY,CAAC0C,IAAI,CAAC,KAAI,KAAK;MAC9E,IAAI,CAACH,eAAe,EAAE;QACpBhD,MAAM,CAAC0B,IAAI,CAAC,QAAQjB,YAAY,CAAC0C,IAAI,wBAAwB,CAAC;MAChE;;MAEA;MACA,MAAMC,WAAW,GAAG/D,IAAI,CAACgE,IAAI,CAACvD,WAAW,EAAE,KAAK,EAAE,cAAc,CAAC;MACjE,MAAMwD,gBAAgB,GAAG,CAAClE,EAAE,CAACmE,UAAU,CAACH,WAAW,CAAC;MACpD,IAAIE,gBAAgB,EAAE;QACpBrD,QAAQ,CAACyB,IAAI,CAAC,oDAAoD,CAAC;MACrE;MAEA,OAAO;QACLP,UAAU,EAAE6B,eAAe;QAC3BvB,UAAU,EAAEuB,eAAe;QAAE;QAC7B1B,UAAU,EAAE,IAAI;QAAE;QAClBtB,MAAM;QACNC;MACF,CAAC;IAEH,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdR,MAAM,CAAC0B,IAAI,CAAC,4BAA4BlB,KAAK,YAAYsB,KAAK,GAAGtB,KAAK,CAACH,OAAO,GAAG0B,MAAM,CAACvB,KAAK,CAAC,EAAE,CAAC;MACjG,OAAO;QAAEW,UAAU,EAAE,KAAK;QAAEM,UAAU,EAAE,KAAK;QAAEH,UAAU,EAAE,KAAK;QAAEtB,MAAM;QAAEC;MAAS,CAAC;IACtF;EACF;;EAEA;AACF;AACA;EACE,MAAce,gBAAgBA,CAC5BlB,WAAmB,EACnBW,YAA0B,EAKzB;IACD,MAAMT,MAAgB,GAAG,EAAE;IAC3B,MAAMC,QAAkB,GAAG,EAAE;IAE7B,IAAI;MAAA,IAAAuD,qBAAA,EAAAC,qBAAA,EAAAC,qBAAA;MACF;MACA,MAAMC,eAAe,GAAGtE,IAAI,CAACgE,IAAI,CAACvD,WAAW,EAAE,cAAc,CAAC;MAC9D,IAAI,CAACV,EAAE,CAACmE,UAAU,CAACI,eAAe,CAAC,EAAE;QACnC3D,MAAM,CAAC0B,IAAI,CAAC,wCAAwC,CAAC;QACrD,OAAO;UAAEtB,OAAO,EAAE,KAAK;UAAEJ,MAAM;UAAEC;QAAS,CAAC;MAC7C;MAEA,MAAM2D,WAAW,GAAGC,IAAI,CAACC,KAAK,CAAC1E,EAAE,CAACgD,YAAY,CAACuB,eAAe,EAAE,MAAM,CAAC,CAAC;;MAExE;MACA,MAAMI,gBAAgB,GAAG,EAAAP,qBAAA,GAAAI,WAAW,CAACI,YAAY,cAAAR,qBAAA,uBAAxBA,qBAAA,CAA2B/C,YAAY,CAAC0C,IAAI,CAAC,OAAAM,qBAAA,GAC9CG,WAAW,CAACK,eAAe,cAAAR,qBAAA,uBAA3BA,qBAAA,CAA8BhD,YAAY,CAAC0C,IAAI,CAAC,OAAAO,qBAAA,GAChDE,WAAW,CAACM,gBAAgB,cAAAR,qBAAA,uBAA5BA,qBAAA,CAA+BjD,YAAY,CAAC0C,IAAI,CAAC;MAEzE,IAAI,CAACY,gBAAgB,EAAE;QACrB9D,QAAQ,CAACyB,IAAI,CAAC,WAAWjB,YAAY,CAAC0C,IAAI,0CAA0C,CAAC;MACvF;;MAEA;MACA,MAAMgB,eAAe,GAAG9E,IAAI,CAACgE,IAAI,CAAC5C,YAAY,CAAC2D,UAAU,EAAE,UAAU,CAAC;MACtE,MAAMC,qBAAqB,GAAGhF,IAAI,CAACgE,IAAI,CAAC5C,YAAY,CAAC2D,UAAU,EAAE,cAAc,CAAC;MAEhF,IAAIE,eAAe,GAAG,KAAK;MAC3B,IAAIlF,EAAE,CAACmE,UAAU,CAACc,qBAAqB,CAAC,EAAE;QACxC,IAAI;UACF,MAAME,iBAAiB,GAAGV,IAAI,CAACC,KAAK,CAAC1E,EAAE,CAACgD,YAAY,CAACiC,qBAAqB,EAAE,MAAM,CAAC,CAAC;UACpF,MAAMG,SAAS,GAAGD,iBAAiB,CAACE,IAAI,IAAI,UAAU;UACtD,MAAMC,aAAa,GAAGrF,IAAI,CAACgE,IAAI,CAAC5C,YAAY,CAAC2D,UAAU,EAAEI,SAAS,CAAC;UACnEF,eAAe,GAAGlF,EAAE,CAACmE,UAAU,CAACmB,aAAa,CAAC;QAChD,CAAC,CAAC,OAAOlE,KAAK,EAAE;UACdP,QAAQ,CAACyB,IAAI,CAAC,qCAAqC,CAAC;QACtD;MACF,CAAC,MAAM,IAAItC,EAAE,CAACmE,UAAU,CAACY,eAAe,CAAC,EAAE;QACzCG,eAAe,GAAG,IAAI;MACxB;MAEA,IAAI,CAACA,eAAe,EAAE;QACpBtE,MAAM,CAAC0B,IAAI,CAAC,mCAAmC,CAAC;MAClD;;MAEA;MACA,MAAMiD,kBAAkB,GAAGvF,EAAE,CAACmE,UAAU,CAAClE,IAAI,CAACgE,IAAI,CAAC5C,YAAY,CAAC2D,UAAU,EAAE,YAAY,CAAC,CAAC,IAChEhF,EAAE,CAACmE,UAAU,CAAClE,IAAI,CAACgE,IAAI,CAAC5C,YAAY,CAAC2D,UAAU,EAAE,KAAK,EAAE,YAAY,CAAC,CAAC;MAEhG,IAAI,CAACO,kBAAkB,EAAE;QACvB1E,QAAQ,CAACyB,IAAI,CAAC,mFAAmF,CAAC;MACpG;MAEA,OAAO;QACLtB,OAAO,EAAEkE,eAAe,IAAItE,MAAM,CAAC4B,MAAM,KAAK,CAAC;QAC/C5B,MAAM;QACNC;MACF,CAAC;IAEH,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdR,MAAM,CAAC0B,IAAI,CAAC,uBAAuBlB,KAAK,YAAYsB,KAAK,GAAGtB,KAAK,CAACH,OAAO,GAAG0B,MAAM,CAACvB,KAAK,CAAC,EAAE,CAAC;MAC5F,OAAO;QAAEJ,OAAO,EAAE,KAAK;QAAEJ,MAAM;QAAEC;MAAS,CAAC;IAC7C;EACF;;EAEA;AACF;AACA;EACE,MAAa2E,mBAAmBA,CAC9B9E,WAAmB,EACnBC,UAAmB,EACM;IACzB,MAAM8E,WAA2B,GAAG;MAClC/E;IACF,CAAC;IAED,IAAI;MAAA,IAAAgF,qBAAA,EAAAC,sBAAA;MACF;MACA,MAAM7E,UAAU,GAAG,IAAI,CAACP,YAAY,CAACQ,oBAAoB,CAACL,WAAW,EAAEC,UAAU,CAAC;MAClF,IAAIG,UAAU,CAACE,OAAO,EAAE;QACtByE,WAAW,CAACpE,YAAY,GAAG,IAAI,CAACd,YAAY,CAACe,kBAAkB,CAACR,UAAU,CAAC,IAAI2B,SAAS;MAC1F;;MAEA;MACA,IAAI,EAAAiD,qBAAA,GAAAD,WAAW,CAACpE,YAAY,cAAAqE,qBAAA,uBAAxBA,qBAAA,CAA0B9C,QAAQ,MAAK,KAAK,EAAE;QAChD6C,WAAW,CAACG,cAAc,GAAG,MAAM,IAAI,CAACC,0BAA0B,CAACnF,WAAW,EAAE+E,WAAW,CAACpE,YAAY,CAAC;MAC3G;;MAEA;MACA,IAAI,EAAAsE,sBAAA,GAAAF,WAAW,CAACpE,YAAY,cAAAsE,sBAAA,uBAAxBA,sBAAA,CAA0B/C,QAAQ,MAAK,SAAS,EAAE;QACpD6C,WAAW,CAACK,UAAU,GAAG,MAAM,IAAI,CAACC,sBAAsB,CAACrF,WAAW,EAAE+E,WAAW,CAACpE,YAAY,CAAC;MACnG;;MAEA;MACAoE,WAAW,CAACO,eAAe,GAAG,MAAM,IAAI,CAACC,uBAAuB,CAACvF,WAAW,CAAC;IAE/E,CAAC,CAAC,OAAOU,KAAK,EAAE;MACd;MACA8E,OAAO,CAACC,IAAI,CAAC,+BAA+B,EAAE/E,KAAK,CAAC;IACtD;IAEA,OAAOqE,WAAW;EACpB;;EAEA;AACF;AACA;EACUtE,kBAAkBA,CAAA,EAAwB;IAChD,OAAO;MACLU,WAAW,EAAE,KAAK;MAClBC,iBAAiB,EAAE,KAAK;MACxBE,aAAa,EAAE,KAAK;MACpBC,gBAAgB,EAAE,KAAK;MACvBE,gBAAgB,EAAE,KAAK;MACvBC,oBAAoB,EAAE;IACxB,CAAC;EACH;EAEQU,uBAAuBA,CAACpC,WAAmB,EAAiB;IAClE,MAAM0F,cAAc,GAAGnG,IAAI,CAACgE,IAAI,CAACvD,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC;IAEtF,IAAI,CAACV,EAAE,CAACmE,UAAU,CAACiC,cAAc,CAAC,EAAE;MAClC,OAAO,IAAI;IACb;IAEA,MAAMC,WAAW,GAAIC,GAAW,IAAoB;MAClD,MAAMC,KAAK,GAAGvG,EAAE,CAACwG,WAAW,CAACF,GAAG,CAAC;MAEjC,KAAK,MAAMG,IAAI,IAAIF,KAAK,EAAE;QACxB,MAAMG,QAAQ,GAAGzG,IAAI,CAACgE,IAAI,CAACqC,GAAG,EAAEG,IAAI,CAAC;QACrC,MAAME,IAAI,GAAG3G,EAAE,CAAC4G,QAAQ,CAACF,QAAQ,CAAC;QAElC,IAAIC,IAAI,CAACE,WAAW,CAAC,CAAC,EAAE;UACtB,MAAMC,MAAM,GAAGT,WAAW,CAACK,QAAQ,CAAC;UACpC,IAAII,MAAM,EAAE,OAAOA,MAAM;QAC3B,CAAC,MAAM,IAAIL,IAAI,KAAK,oBAAoB,IAAIA,IAAI,KAAK,sBAAsB,EAAE;UAC3E,OAAOC,QAAQ;QACjB;MACF;MAEA,OAAO,IAAI;IACb,CAAC;IAED,OAAOL,WAAW,CAACD,cAAc,CAAC;EACpC;EAEQlD,oBAAoBA,CAAC6D,OAAe,EAAE1F,YAA0B,EAAW;IACjF,MAAM2F,aAAa,GAAG,IAAIC,MAAM,CAAC,aAAa5F,YAAY,CAAC6F,WAAW,MAAM7F,YAAY,CAAC8F,SAAS,EAAE,CAAC;IACrG,OAAOH,aAAa,CAACI,IAAI,CAACL,OAAO,CAAC;EACpC;EAEQ3D,sBAAsBA,CAAC2D,OAAe,EAAE1F,YAA0B,EAAW;IACnF,MAAMgG,cAAc,GAAG,IAAIJ,MAAM,CAAC,GAAG5F,YAAY,CAAC8F,SAAS,QAAQ,CAAC;IACpE,OAAOE,cAAc,CAACD,IAAI,CAACL,OAAO,CAAC;EACrC;EAEQzD,+BAA+BA,CACrC5C,WAAmB,EACnBW,YAA0B,EACY;IACtC,MAAMT,MAAgB,GAAG,EAAE;;IAE3B;IACA,MAAM0G,YAAY,GAAGrH,IAAI,CAACgE,IAAI,CAACvD,WAAW,EAAE,SAAS,EAAE,iBAAiB,CAAC;IACzE,IAAIV,EAAE,CAACmE,UAAU,CAACmD,YAAY,CAAC,EAAE;MAC/B,MAAMC,eAAe,GAAGvH,EAAE,CAACgD,YAAY,CAACsE,YAAY,EAAE,MAAM,CAAC;MAC7D,MAAME,WAAW,GAAG,IAAInG,YAAY,CAAC0C,IAAI,EAAE;MAC3C,IAAI,CAACwD,eAAe,CAACzD,QAAQ,CAAC0D,WAAW,CAAC,EAAE;QAC1C5G,MAAM,CAAC0B,IAAI,CAAC,YAAYkF,WAAW,mCAAmC,CAAC;MACzE;IACF,CAAC,MAAM;MACL5G,MAAM,CAAC0B,IAAI,CAAC,2BAA2B,CAAC;IAC1C;;IAEA;IACA,MAAMmF,eAAe,GAAGxH,IAAI,CAACgE,IAAI,CAACvD,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,cAAc,CAAC;IAChF,IAAIV,EAAE,CAACmE,UAAU,CAACsD,eAAe,CAAC,EAAE;MAClC,MAAMC,YAAY,GAAG1H,EAAE,CAACgD,YAAY,CAACyE,eAAe,EAAE,MAAM,CAAC;MAC7D,MAAME,mBAAmB,GAAG,4BAA4BtG,YAAY,CAAC0C,IAAI,IAAI;MAC7E,IAAI,CAAC2D,YAAY,CAAC5D,QAAQ,CAAC6D,mBAAmB,CAAC,EAAE;QAC/C/G,MAAM,CAAC0B,IAAI,CAAC,eAAeqF,mBAAmB,iCAAiC,CAAC;MAClF;IACF,CAAC,MAAM;MACL/G,MAAM,CAAC0B,IAAI,CAAC,4BAA4B,CAAC;IAC3C;IAEA,OAAO;MAAEiB,KAAK,EAAE3C,MAAM,CAAC4B,MAAM,KAAK,CAAC;MAAE5B;IAAO,CAAC;EAC/C;EAEA,MAAciF,0BAA0BA,CACtCnF,WAAmB,EACnBW,YAA2B,EACE;IAC7B,MAAMuG,mBAAmB,GAAG,IAAI,CAAC9E,uBAAuB,CAACpC,WAAW,CAAC;IACrE,MAAMmH,oBAAoB,GAAG,CAAC,CAACD,mBAAmB;IAElD,IAAIE,eAAe,GAAG,KAAK;IAC3B,IAAIC,iBAAiB,GAAG,KAAK;IAE7B,IAAIH,mBAAmB,IAAIvG,YAAY,EAAE;MACvC,MAAM0F,OAAO,GAAG/G,EAAE,CAACgD,YAAY,CAAC4E,mBAAmB,EAAE,MAAM,CAAC;MAC5DE,eAAe,GAAG,IAAI,CAAC5E,oBAAoB,CAAC6D,OAAO,EAAE1F,YAAY,CAAC;MAClE0G,iBAAiB,GAAG,IAAI,CAAC3E,sBAAsB,CAAC2D,OAAO,EAAE1F,YAAY,CAAC;IACxE;IAEA,IAAI2G,wBAAwB,GAAG,KAAK;IACpC,IAAIC,qBAAqB,GAAG,KAAK;IAEjC,IAAI5G,YAAY,EAAE;MAChB,MAAM6G,WAAW,GAAG,IAAI,CAAC5E,+BAA+B,CAAC5C,WAAW,EAAEW,YAAY,CAAC;MACnF2G,wBAAwB,GAAG,CAACE,WAAW,CAACtH,MAAM,CAACuH,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACtE,QAAQ,CAAC,iBAAiB,CAAC,CAAC;MACvFmE,qBAAqB,GAAG,CAACC,WAAW,CAACtH,MAAM,CAACuH,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACtE,QAAQ,CAAC,cAAc,CAAC,CAAC;IACnF;IAEA,OAAO;MACL+D,oBAAoB;MACpBD,mBAAmB,EAAEA,mBAAmB,IAAInF,SAAS;MACrDqF,eAAe;MACfC,iBAAiB;MACjBC,wBAAwB;MACxBC,qBAAqB;MACrBI,eAAe,EAAEL,wBAAwB,IAAIC;IAC/C,CAAC;EACH;EAEA,MAAclC,sBAAsBA,CAClCrF,WAAmB,EACnBW,YAA2B,EACF;IAAA,IAAAiH,kBAAA;IACzB,MAAM7E,WAAW,GAAG,IAAI,CAACjD,UAAU,CAACkD,cAAc,CAAChD,WAAW,CAAC;IAC/D,MAAM6H,aAAa,GAAGlH,YAAY,GAAI,EAAAiH,kBAAA,GAAA7E,WAAW,CAACI,IAAI,cAAAyE,kBAAA,uBAAhBA,kBAAA,CAAkBxE,QAAQ,CAACzC,YAAY,CAAC0C,IAAI,CAAC,KAAI,KAAK,GAAI,KAAK;IACrG,MAAMyE,eAAe,GAAG,IAAI,CAAChI,UAAU,CAACiI,kBAAkB,CAAC/H,WAAW,CAAC,CAACM,OAAO;IAC/E,MAAMkD,gBAAgB,GAAG,CAAClE,EAAE,CAACmE,UAAU,CAAClE,IAAI,CAACgE,IAAI,CAACvD,WAAW,EAAE,KAAK,EAAE,cAAc,CAAC,CAAC;IAEtF,OAAO;MACLgI,YAAY,EAAEjF,WAAW,CAACE,MAAM;MAChCgF,WAAW,EAAElF,WAAW,CAACxD,IAAI;MAC7BsI,aAAa;MACbC,eAAe;MACftE;IACF,CAAC;EACH;EAEA,MAAc+B,uBAAuBA,CAACvF,WAAmB,EAA4B;IACnF,MAAMkI,IAAqB,GAAG,CAAC,CAAC;IAEhC,IAAI;MACF;MACA,MAAMrE,eAAe,GAAGtE,IAAI,CAACgE,IAAI,CAACvD,WAAW,EAAE,cAAc,CAAC;MAC9D,IAAIV,EAAE,CAACmE,UAAU,CAACI,eAAe,CAAC,EAAE;QAAA,IAAAsE,sBAAA,EAAAC,sBAAA;QAClC,MAAMtE,WAAW,GAAGC,IAAI,CAACC,KAAK,CAAC1E,EAAE,CAACgD,YAAY,CAACuB,eAAe,EAAE,MAAM,CAAC,CAAC;QACxEqE,IAAI,CAACG,kBAAkB,GAAG,EAAAF,sBAAA,GAAArE,WAAW,CAACI,YAAY,cAAAiE,sBAAA,uBAAxBA,sBAAA,CAA2B,cAAc,CAAC,OAAAC,sBAAA,GAC3CtE,WAAW,CAACK,eAAe,cAAAiE,sBAAA,uBAA3BA,sBAAA,CAA8B,cAAc,CAAC;MACxE;;MAEA;MACAF,IAAI,CAACI,WAAW,GAAGC,OAAO,CAACC,OAAO;IAEpC,CAAC,CAAC,OAAO9H,KAAK,EAAE;MACd;IAAA;IAGF,OAAOwH,IAAI;EACb;AACF;;AAEA;AACA;AACA;AACA,OAAO,eAAenI,mBAAmBA,CACvCC,WAAmB,EACnBC,UAAmB,EACU;EAC7B,MAAMwI,QAAQ,GAAG,IAAI/I,qBAAqB,CAAC,CAAC;EAC5C,OAAO+I,QAAQ,CAAC1I,mBAAmB,CAACC,WAAW,EAAEC,UAAU,CAAC;AAC9D;;AAEA;AACA;AACA;AACA,OAAO,eAAe6E,mBAAmBA,CACvC9E,WAAmB,EACnBC,UAAmB,EACM;EACzB,MAAMwI,QAAQ,GAAG,IAAI/I,qBAAqB,CAAC,CAAC;EAC5C,OAAO+I,QAAQ,CAAC3D,mBAAmB,CAAC9E,WAAW,EAAEC,UAAU,CAAC;AAC9D","ignoreList":[]}
{"version":3,"names":["fs","_interopRequireWildcard","require","path","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","AndroidConfigManager","configureMainApplication","projectRoot","moduleConfig","mainAppPath","findMainApplicationFile","success","message","error","isKotlin","endsWith","content","readFileSync","isAlreadyConfigured","modifiedFiles","modifiedContent","modifyMainApplicationContent","backupPath","writeFileSync","basename","Error","String","androidAppPath","join","existsSync","findMainApp","dir","files","readdirSync","file","filePath","stat","statSync","isDirectory","result","importPattern","RegExp","packageName","className","packagePattern","test","addImportStatement","addPackageToGetPackages","_isKotlin","importStatement","importRegex","imports","match","length","lastImport","lastImportIndex","lastIndexOf","insertIndex","slice","packageRegex","packageMatch","packageIndex","indexOf","getPackagesRegex","packagesContent","trim","packageInstance","replacement","replace","alternativeRegex","altMatch","configureBuildFiles","settingsResult","configureSettingsGradle","push","buildResult","configureAppBuildGradle","settingsPath","projectName","name","includes","androidDir","relativePath","relative","modulePath","includeStatement","projectStatement","buildGradlePath","dependencyStatement","dependenciesRegex","dependenciesContent","newDependenciesContent","exports","manager"],"sourceRoot":"../../../src","sources":["linking/android-config.ts"],"mappings":";;;;;;;;AAAA,IAAAA,EAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,IAAA,GAAAF,uBAAA,CAAAC,OAAA;AAA6B,SAAAD,wBAAAG,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAL,uBAAA,YAAAA,CAAAG,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,gBAAAP,CAAA,IAAAD,CAAA,gBAAAC,CAAA,OAAAa,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAC,CAAA,OAAAM,CAAA,IAAAD,CAAA,GAAAU,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAlB,CAAA,EAAAC,CAAA,OAAAM,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAP,CAAA,EAAAM,CAAA,IAAAC,CAAA,CAAAP,CAAA,IAAAD,CAAA,CAAAC,CAAA,WAAAO,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAUtB,MAAMkB,oBAAoB,CAAC;EAChC;AACF;AACA;EACSC,wBAAwBA,CAC7BC,WAAmB,EACnBC,YAA0B,EACL;IACrB,IAAI;MACF,MAAMC,WAAW,GAAG,IAAI,CAACC,uBAAuB,CAACH,WAAW,CAAC;MAC7D,IAAI,CAACE,WAAW,EAAE;QAChB,OAAO;UACLE,OAAO,EAAE,KAAK;UACdC,OAAO,EAAE,gCAAgC;UACzCC,KAAK,EAAE;QACT,CAAC;MACH;MAEA,MAAMC,QAAQ,GAAGL,WAAW,CAACM,QAAQ,CAAC,KAAK,CAAC;MAC5C,MAAMC,OAAO,GAAGlC,EAAE,CAACmC,YAAY,CAACR,WAAW,EAAE,MAAM,CAAC;;MAEpD;MACA,IAAI,IAAI,CAACS,mBAAmB,CAACF,OAAO,EAAER,YAAY,CAAC,EAAE;QACnD,OAAO;UACLG,OAAO,EAAE,IAAI;UACbC,OAAO,EAAE,oCAAoC;UAC7CO,aAAa,EAAE;QACjB,CAAC;MACH;MAEA,MAAMC,eAAe,GAAG,IAAI,CAACC,4BAA4B,CAACL,OAAO,EAAER,YAAY,EAAEM,QAAQ,CAAC;;MAE1F;MACA,MAAMQ,UAAU,GAAG,GAAGb,WAAW,SAAS;MAC1C3B,EAAE,CAACyC,aAAa,CAACD,UAAU,EAAEN,OAAO,CAAC;;MAErC;MACAlC,EAAE,CAACyC,aAAa,CAACd,WAAW,EAAEW,eAAe,CAAC;MAE9C,OAAO;QACLT,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,2BAA2B3B,IAAI,CAACuC,QAAQ,CAACf,WAAW,CAAC,EAAE;QAChEU,aAAa,EAAE,CAACV,WAAW;MAC7B,CAAC;IAEH,CAAC,CAAC,OAAOI,KAAK,EAAE;MACd,OAAO;QACLF,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,qCAAqC;QAC9CC,KAAK,EAAEA,KAAK,YAAYY,KAAK,GAAGZ,KAAK,CAACD,OAAO,GAAGc,MAAM,CAACb,KAAK;MAC9D,CAAC;IACH;EACF;;EAEA;AACF;AACA;EACUH,uBAAuBA,CAACH,WAAmB,EAAiB;IAClE,MAAMoB,cAAc,GAAG1C,IAAI,CAAC2C,IAAI,CAACrB,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC;IAEtF,IAAI,CAACzB,EAAE,CAAC+C,UAAU,CAACF,cAAc,CAAC,EAAE;MAClC,OAAO,IAAI;IACb;;IAEA;IACA,MAAMG,WAAW,GAAIC,GAAW,IAAoB;MAClD,MAAMC,KAAK,GAAGlD,EAAE,CAACmD,WAAW,CAACF,GAAG,CAAC;MAEjC,KAAK,MAAMG,IAAI,IAAIF,KAAK,EAAE;QACxB,MAAMG,QAAQ,GAAGlD,IAAI,CAAC2C,IAAI,CAACG,GAAG,EAAEG,IAAI,CAAC;QACrC,MAAME,IAAI,GAAGtD,EAAE,CAACuD,QAAQ,CAACF,QAAQ,CAAC;QAElC,IAAIC,IAAI,CAACE,WAAW,CAAC,CAAC,EAAE;UACtB,MAAMC,MAAM,GAAGT,WAAW,CAACK,QAAQ,CAAC;UACpC,IAAII,MAAM,EAAE,OAAOA,MAAM;QAC3B,CAAC,MAAM,IAAIL,IAAI,KAAK,oBAAoB,IAAIA,IAAI,KAAK,sBAAsB,EAAE;UAC3E,OAAOC,QAAQ;QACjB;MACF;MAEA,OAAO,IAAI;IACb,CAAC;IAED,OAAOL,WAAW,CAACH,cAAc,CAAC;EACpC;;EAEA;AACF;AACA;EACUT,mBAAmBA,CAACF,OAAe,EAAER,YAA0B,EAAW;IAChF,MAAMgC,aAAa,GAAG,IAAIC,MAAM,CAAC,aAAajC,YAAY,CAACkC,WAAW,MAAMlC,YAAY,CAACmC,SAAS,EAAE,CAAC;IACrG,MAAMC,cAAc,GAAG,IAAIH,MAAM,CAAC,GAAGjC,YAAY,CAACmC,SAAS,QAAQ,CAAC;IAEpE,OAAOH,aAAa,CAACK,IAAI,CAAC7B,OAAO,CAAC,IAAI4B,cAAc,CAACC,IAAI,CAAC7B,OAAO,CAAC;EACpE;;EAEA;AACF;AACA;EACUK,4BAA4BA,CAClCL,OAAe,EACfR,YAA0B,EAC1BM,QAAiB,EACT;IACR,IAAIM,eAAe,GAAGJ,OAAO;;IAE7B;IACAI,eAAe,GAAG,IAAI,CAAC0B,kBAAkB,CAAC1B,eAAe,EAAEZ,YAAY,EAAEM,QAAQ,CAAC;;IAElF;IACAM,eAAe,GAAG,IAAI,CAAC2B,uBAAuB,CAAC3B,eAAe,EAAEZ,YAAY,EAAEM,QAAQ,CAAC;IAEvF,OAAOM,eAAe;EACxB;;EAEA;AACF;AACA;EACU0B,kBAAkBA,CACxB9B,OAAe,EACfR,YAA0B,EAC1BwC,SAAkB,EACV;IACR,MAAMC,eAAe,GAAG,UAAUzC,YAAY,CAACkC,WAAW,IAAIlC,YAAY,CAACmC,SAAS,EAAE;;IAEtF;IACA,MAAMO,WAAW,GAAG,sBAAsB;IAC1C,MAAMC,OAAO,GAAGnC,OAAO,CAACoC,KAAK,CAACF,WAAW,CAAC;IAE1C,IAAIC,OAAO,IAAIA,OAAO,CAACE,MAAM,GAAG,CAAC,EAAE;MACjC,MAAMC,UAAU,GAAGH,OAAO,CAACA,OAAO,CAACE,MAAM,GAAG,CAAC,CAAC;MAC9C,MAAME,eAAe,GAAGvC,OAAO,CAACwC,WAAW,CAACF,UAAU,CAAC;MACvD,MAAMG,WAAW,GAAGF,eAAe,GAAGD,UAAU,CAACD,MAAM;MAEvD,OAAOrC,OAAO,CAAC0C,KAAK,CAAC,CAAC,EAAED,WAAW,CAAC,GAC7BR,eAAe,GAAG,IAAI,GACtBjC,OAAO,CAAC0C,KAAK,CAACD,WAAW,CAAC;IACnC,CAAC,MAAM;MACL;MACA,MAAME,YAAY,GAAG,sBAAsB;MAC3C,MAAMC,YAAY,GAAG5C,OAAO,CAACoC,KAAK,CAACO,YAAY,CAAC;MAEhD,IAAIC,YAAY,EAAE;QAChB,MAAMC,YAAY,GAAG7C,OAAO,CAAC8C,OAAO,CAACF,YAAY,CAAC,CAAC,CAAC,CAAC,GAAGA,YAAY,CAAC,CAAC,CAAC,CAACP,MAAM;QAC9E,OAAOrC,OAAO,CAAC0C,KAAK,CAAC,CAAC,EAAEG,YAAY,CAAC,GAC9B,IAAI,GAAGZ,eAAe,GAAG,IAAI,GAC7BjC,OAAO,CAAC0C,KAAK,CAACG,YAAY,CAAC;MACpC;IACF;IAEA,OAAO7C,OAAO;EAChB;;EAEA;AACF;AACA;EACU+B,uBAAuBA,CAC7B/B,OAAe,EACfR,YAA0B,EAC1BwC,SAAkB,EACV;IACR;IACA,MAAMe,gBAAgB,GAAG,+EAA+E;IACxG,MAAMX,KAAK,GAAGpC,OAAO,CAACoC,KAAK,CAACW,gBAAgB,CAAC;IAE7C,IAAIX,KAAK,EAAE;MACT,MAAMY,eAAe,GAAGZ,KAAK,CAAC,CAAC,CAAC,CAACa,IAAI,CAAC,CAAC;MACvC,MAAMC,eAAe,GAAG,GAAG1D,YAAY,CAACmC,SAAS,IAAI;;MAErD;MACA,IAAIqB,eAAe,KAAK,EAAE,EAAE;QAC1B;QACA,MAAMG,WAAW,GAAGf,KAAK,CAAC,CAAC,CAAC,CAACgB,OAAO,CAClC,gCAAgC,EAChC,kCAAkCF,eAAe,WACnD,CAAC;QACD,OAAOlD,OAAO,CAACoD,OAAO,CAAChB,KAAK,CAAC,CAAC,CAAC,EAAEe,WAAW,CAAC;MAC/C,CAAC,MAAM;QACL;QACA,MAAMA,WAAW,GAAGf,KAAK,CAAC,CAAC,CAAC,CAACgB,OAAO,CAClCJ,eAAe,EACf,GAAGA,eAAe,cAAcE,eAAe,EACjD,CAAC;QACD,OAAOlD,OAAO,CAACoD,OAAO,CAAChB,KAAK,CAAC,CAAC,CAAC,EAAEe,WAAW,CAAC;MAC/C;IACF;;IAEA;IACA,MAAME,gBAAgB,GAAG,8DAA8D;IACvF,MAAMC,QAAQ,GAAGtD,OAAO,CAACoC,KAAK,CAACiB,gBAAgB,CAAC;IAEhD,IAAIC,QAAQ,EAAE;MACZ,MAAMN,eAAe,GAAGM,QAAQ,CAAC,CAAC,CAAC,CAACL,IAAI,CAAC,CAAC;MAC1C,MAAMC,eAAe,GAAG,GAAG1D,YAAY,CAACmC,SAAS,IAAI;MAErD,IAAIqB,eAAe,KAAK,EAAE,EAAE;QAC1B,MAAMG,WAAW,GAAGG,QAAQ,CAAC,CAAC,CAAC,CAACF,OAAO,CACrC,gCAAgC,EAChC,kCAAkCF,eAAe,WACnD,CAAC;QACD,OAAOlD,OAAO,CAACoD,OAAO,CAACE,QAAQ,CAAC,CAAC,CAAC,EAAEH,WAAW,CAAC;MAClD,CAAC,MAAM;QACL,MAAMA,WAAW,GAAGG,QAAQ,CAAC,CAAC,CAAC,CAACF,OAAO,CACrCJ,eAAe,EACf,GAAGA,eAAe,cAAcE,eAAe,EACjD,CAAC;QACD,OAAOlD,OAAO,CAACoD,OAAO,CAACE,QAAQ,CAAC,CAAC,CAAC,EAAEH,WAAW,CAAC;MAClD;IACF;IAEA,OAAOnD,OAAO;EAChB;;EAEA;AACF;AACA;EACSuD,mBAAmBA,CACxBhE,WAAmB,EACnBC,YAA0B,EACL;IACrB,IAAI;MACF,MAAMW,aAAuB,GAAG,EAAE;;MAElC;MACA,MAAMqD,cAAc,GAAG,IAAI,CAACC,uBAAuB,CAAClE,WAAW,EAAEC,YAAY,CAAC;MAC9E,IAAI,CAACgE,cAAc,CAAC7D,OAAO,EAAE;QAC3B,OAAO6D,cAAc;MACvB;MACA,IAAIA,cAAc,CAACrD,aAAa,EAAE;QAChCA,aAAa,CAACuD,IAAI,CAAC,GAAGF,cAAc,CAACrD,aAAa,CAAC;MACrD;;MAEA;MACA,MAAMwD,WAAW,GAAG,IAAI,CAACC,uBAAuB,CAACrE,WAAW,EAAEC,YAAY,CAAC;MAC3E,IAAI,CAACmE,WAAW,CAAChE,OAAO,EAAE;QACxB,OAAOgE,WAAW;MACpB;MACA,IAAIA,WAAW,CAACxD,aAAa,EAAE;QAC7BA,aAAa,CAACuD,IAAI,CAAC,GAAGC,WAAW,CAACxD,aAAa,CAAC;MAClD;MAEA,OAAO;QACLR,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,6CAA6C;QACtDO;MACF,CAAC;IAEH,CAAC,CAAC,OAAON,KAAK,EAAE;MACd,OAAO;QACLF,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,yCAAyC;QAClDC,KAAK,EAAEA,KAAK,YAAYY,KAAK,GAAGZ,KAAK,CAACD,OAAO,GAAGc,MAAM,CAACb,KAAK;MAC9D,CAAC;IACH;EACF;;EAEA;AACF;AACA;EACU4D,uBAAuBA,CAC7BlE,WAAmB,EACnBC,YAA0B,EACL;IACrB,MAAMqE,YAAY,GAAG5F,IAAI,CAAC2C,IAAI,CAACrB,WAAW,EAAE,SAAS,EAAE,iBAAiB,CAAC;IAEzE,IAAI,CAACzB,EAAE,CAAC+C,UAAU,CAACgD,YAAY,CAAC,EAAE;MAChC,OAAO;QACLlE,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,2BAA2B;QACpCC,KAAK,EAAE,mBAAmBgE,YAAY;MACxC,CAAC;IACH;IAEA,MAAM7D,OAAO,GAAGlC,EAAE,CAACmC,YAAY,CAAC4D,YAAY,EAAE,MAAM,CAAC;IACrD,MAAMC,WAAW,GAAG,IAAItE,YAAY,CAACuE,IAAI,EAAE;;IAE3C;IACA,IAAI/D,OAAO,CAACgE,QAAQ,CAACF,WAAW,CAAC,EAAE;MACjC,OAAO;QACLnE,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,oCAAoC;QAC7CO,aAAa,EAAE;MACjB,CAAC;IACH;;IAEA;IACA,MAAM8D,UAAU,GAAGhG,IAAI,CAAC2C,IAAI,CAACrB,WAAW,EAAE,SAAS,CAAC;IACpD,MAAM2E,YAAY,GAAGjG,IAAI,CAACkG,QAAQ,CAACF,UAAU,EAAEhG,IAAI,CAAC2C,IAAI,CAACpB,YAAY,CAAC4E,UAAU,EAAE,SAAS,CAAC,CAAC;;IAE7F;IACA,MAAMC,gBAAgB,GAAG,YAAYP,WAAW,GAAG;IACnD,MAAMQ,gBAAgB,GAAG,YAAYR,WAAW,6BAA6BI,YAAY,IAAI;IAE7F,MAAM9D,eAAe,GAAGJ,OAAO,GAAG,IAAI,GAAGqE,gBAAgB,GAAG,IAAI,GAAGC,gBAAgB,GAAG,IAAI;;IAE1F;IACA,MAAMhE,UAAU,GAAG,GAAGuD,YAAY,SAAS;IAC3C/F,EAAE,CAACyC,aAAa,CAACD,UAAU,EAAEN,OAAO,CAAC;;IAErC;IACAlC,EAAE,CAACyC,aAAa,CAACsD,YAAY,EAAEzD,eAAe,CAAC;IAE/C,OAAO;MACLT,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,yCAAyC;MAClDO,aAAa,EAAE,CAAC0D,YAAY;IAC9B,CAAC;EACH;;EAEA;AACF;AACA;EACUD,uBAAuBA,CAC7BrE,WAAmB,EACnBC,YAA0B,EACL;IACrB,MAAM+E,eAAe,GAAGtG,IAAI,CAAC2C,IAAI,CAACrB,WAAW,EAAE,SAAS,EAAE,KAAK,EAAE,cAAc,CAAC;IAEhF,IAAI,CAACzB,EAAE,CAAC+C,UAAU,CAAC0D,eAAe,CAAC,EAAE;MACnC,OAAO;QACL5E,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,4BAA4B;QACrCC,KAAK,EAAE,mBAAmB0E,eAAe;MAC3C,CAAC;IACH;IAEA,MAAMvE,OAAO,GAAGlC,EAAE,CAACmC,YAAY,CAACsE,eAAe,EAAE,MAAM,CAAC;IACxD,MAAMT,WAAW,GAAG,IAAItE,YAAY,CAACuE,IAAI,EAAE;IAC3C,MAAMS,mBAAmB,GAAG,2BAA2BV,WAAW,IAAI;;IAEtE;IACA,IAAI9D,OAAO,CAACgE,QAAQ,CAACQ,mBAAmB,CAAC,EAAE;MACzC,OAAO;QACL7E,OAAO,EAAE,IAAI;QACbC,OAAO,EAAE,qCAAqC;QAC9CO,aAAa,EAAE;MACjB,CAAC;IACH;;IAEA;IACA,MAAMsE,iBAAiB,GAAG,iCAAiC;IAC3D,MAAMrC,KAAK,GAAGpC,OAAO,CAACoC,KAAK,CAACqC,iBAAiB,CAAC;IAE9C,IAAI,CAACrC,KAAK,EAAE;MACV,OAAO;QACLzC,OAAO,EAAE,KAAK;QACdC,OAAO,EAAE,kDAAkD;QAC3DC,KAAK,EAAE;MACT,CAAC;IACH;;IAEA;IACA,MAAM6E,mBAAmB,GAAGtC,KAAK,CAAC,CAAC,CAAC;IACpC,MAAMuC,sBAAsB,GAAGD,mBAAmB,GAAG,SAASF,mBAAmB,EAAE;IACnF,MAAMpE,eAAe,GAAGJ,OAAO,CAACoD,OAAO,CACrChB,KAAK,CAAC,CAAC,CAAC,EACR,iBAAiBuC,sBAAsB,KACzC,CAAC;;IAED;IACA,MAAMrE,UAAU,GAAG,GAAGiE,eAAe,SAAS;IAC9CzG,EAAE,CAACyC,aAAa,CAACD,UAAU,EAAEN,OAAO,CAAC;;IAErC;IACAlC,EAAE,CAACyC,aAAa,CAACgE,eAAe,EAAEnE,eAAe,CAAC;IAElD,OAAO;MACLT,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,0CAA0C;MACnDO,aAAa,EAAE,CAACoE,eAAe;IACjC,CAAC;EACH;AACF;;AAEA;AACA;AACA;AAFAK,OAAA,CAAAvF,oBAAA,GAAAA,oBAAA;AAGO,SAASC,wBAAwBA,CACtCC,WAAmB,EACnBC,YAA0B,EACL;EACrB,MAAMqF,OAAO,GAAG,IAAIxF,oBAAoB,CAAC,CAAC;EAC1C,OAAOwF,OAAO,CAACvF,wBAAwB,CAACC,WAAW,EAAEC,YAAY,CAAC;AACpE;;AAEA;AACA;AACA;AACO,SAAS+D,mBAAmBA,CACjChE,WAAmB,EACnBC,YAA0B,EACL;EACrB,MAAMqF,OAAO,GAAG,IAAIxF,oBAAoB,CAAC,CAAC;EAC1C,OAAOwF,OAAO,CAACtB,mBAAmB,CAAChE,WAAW,EAAEC,YAAY,CAAC;AAC/D","ignoreList":[]}

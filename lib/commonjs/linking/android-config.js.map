{"version":3,"names":["fs","_interopRequireWildcard","require","path","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","AndroidConfigManager","configureMainApplication","projectRoot","moduleConfig","mainAppPath","findMainApplicationFile","success","message","error","isKotlin","endsWith","content","readFileSync","isAlreadyConfigured","modifiedFiles","modifiedContent","modifyMainApplicationContent","backupPath","writeFileSync","basename","Error","String","androidAppPath","join","existsSync","findMainApp","dir","files","readdirSync","file","filePath","stat","statSync","isDirectory","result","importPattern","RegExp","packageName","className","packagePattern","test","addImportStatement","addPackageToGetPackages","_isKotlin","importStatement","importRegex","imports","match","length","lastImport","lastImportIndex","lastIndexOf","insertIndex","slice","packageRegex","packageMatch","packageIndex","indexOf","getPackagesRegex","packagesContent","trim","packageInstance","replacement","replace","alternativeRegex","altMatch","configureBuildFiles","settingsResult","configureSettingsGradle","push","buildResult","configureAppBuildGradle","settingsPath","projectName","name","includes","androidDir","relativePath","relative","modulePath","includeStatement","projectStatement","buildGradlePath","dependencyStatement","dependenciesRegex","dependenciesContent","newDependenciesContent","exports","manager"],"sourceRoot":"../../../src","sources":["linking/android-config.js"],"mappings":"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","ignoreList":[]}

{"version":3,"names":["Object","defineProperty","exports","value","ReactNativeModuleLinkingCLI","setupCLI","_commander","require","chalk","_interopRequireWildcard","_pathResolver","_verification","_manualGuide","_orchestrator","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","getOwnPropertyDescriptor","_defineProperty","_toPropertyKey","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","constructor","pathResolver","PathResolver","guideGenerator","ManualLinkingGuideGenerator","linkModule","options","result","success","message","modifiedFiles","errors","warnings","verbose","projectRoot","process","cwd","platform","dryRun","log","blue","gray","orchestratorOptions","moduleName","modulePath","platforms","skipVerification","createBackups","orchestratorResult","linkReactNativeModule","details","androidConfigured","androidResult","filter","includes","iosConfigured","iosResult","green","red","printSummary","error","push","Error","length","resolveModuleLocation","resolveModulePath","detectModule","forEach","file","yellow","warning","_result$androidResult","_result$iosResult","diagnose","diagnostics","generateDiagnostics","moduleConfig","name","packageName","className","androidDetails","mainApplicationFound","mainApplicationPath","packageImported","packageRegistered","settingsGradleConfigured","buildGradleConfigured","iosDetails","podfileFound","podfilePath","podConfigured","iosProjectValid","podInstallNeeded","buildSystemInfo","reactNativeVersion","nodeVersion","verification","verifyModuleLinking","generateGuide","format","pathResult","createModuleConfig","guideOptions","outputFormat","includeVerification","includeTroubleshooting","guide","output","saveGuide","console","program","Command","cli","description","version","command","option","action","exit","_options","orchestrator","ReactNativeModuleLinkingOrchestrator","rollbackResult","performRollback","parse","main","module"],"sources":["cli.js"],"sourcesContent":["#!/usr/bin/env node\nimport { Command } from 'commander';\nimport * as chalk from 'chalk';\nimport { PathResolver, detectModule } from './path-resolver';\nimport { verifyModuleLinking, generateDiagnostics } from './verification';\nimport { ManualLinkingGuideGenerator } from './manual-guide';\nimport { ReactNativeModuleLinkingOrchestrator, linkReactNativeModule } from './orchestrator';\nclass ReactNativeModuleLinkingCLI {\n    pathResolver;\n    guideGenerator;\n    verbose = false;\n    constructor() {\n        this.pathResolver = new PathResolver();\n        this.guideGenerator = new ManualLinkingGuideGenerator();\n    }\n    /**\n     * Main linking command that orchestrates the entire process using the orchestrator\n     */\n    async linkModule(options) {\n        const result = {\n            success: false,\n            message: '',\n            modifiedFiles: [],\n            errors: [],\n            warnings: []\n        };\n        this.verbose = options.verbose || false;\n        const projectRoot = options.projectRoot || process.cwd();\n        const platform = options.platform || 'both';\n        const dryRun = options.dryRun || false;\n        try {\n            this.log(chalk.blue('üîó React Native Module Linking Tool'));\n            this.log(chalk.gray(`Project: ${projectRoot}`));\n            this.log(chalk.gray(`Platform: ${platform}`));\n            this.log(chalk.gray(`Mode: ${dryRun ? 'Dry Run' : 'Execute'}`));\n            this.log('');\n            // Use the orchestrator for the linking process\n            const orchestratorOptions = {\n                projectRoot,\n                moduleName: options.moduleName,\n                modulePath: options.modulePath,\n                platforms: platform === 'both' ? ['android', 'ios'] : [platform],\n                dryRun,\n                verbose: this.verbose,\n                skipVerification: false,\n                createBackups: true\n            };\n            const orchestratorResult = await linkReactNativeModule(projectRoot, orchestratorOptions);\n            // Convert orchestrator result to CLI result format\n            result.success = orchestratorResult.success;\n            result.message = orchestratorResult.message;\n            result.modifiedFiles = orchestratorResult.modifiedFiles || [];\n            result.errors = orchestratorResult.errors || [];\n            result.warnings = orchestratorResult.warnings || [];\n            // Map orchestrator details to CLI result format\n            if (orchestratorResult.details.androidConfigured) {\n                result.androidResult = {\n                    success: true,\n                    message: 'Android configuration completed',\n                    modifiedFiles: result.modifiedFiles.filter(f => f.includes('android'))\n                };\n            }\n            if (orchestratorResult.details.iosConfigured) {\n                result.iosResult = {\n                    success: true,\n                    message: 'iOS configuration completed',\n                    modifiedFiles: result.modifiedFiles.filter(f => f.includes('ios'))\n                };\n            }\n            // Print results using orchestrator's built-in logging\n            if (result.success) {\n                this.log(chalk.green(`üéâ ${result.message}`));\n            }\n            else {\n                this.log(chalk.red(`‚ùå ${result.message}`));\n            }\n            // Summary\n            this.printSummary(result, dryRun);\n        }\n        catch (error) {\n            result.errors.push(error instanceof Error ? error.message : String(error));\n            result.message = 'Unexpected error during linking process';\n            this.log(chalk.red(`üí• ${result.message}: ${result.errors[result.errors.length - 1]}`));\n        }\n        return result;\n    }\n    /**\n     * Resolves the module location based on CLI options\n     */\n    async resolveModuleLocation(projectRoot, options) {\n        if (options.modulePath) {\n            this.verbose && this.log(chalk.gray(`   Using provided path: ${options.modulePath}`));\n            return this.pathResolver.resolveModulePath(projectRoot, options.modulePath);\n        }\n        else {\n            const moduleName = options.moduleName || 'react-native-realtime-audio-analysis';\n            this.verbose && this.log(chalk.gray(`   Detecting module: ${moduleName}`));\n            return detectModule(projectRoot, moduleName);\n        }\n    }\n    /**\n     * Prints a summary of the linking results\n     */\n    printSummary(result, dryRun) {\n        this.log(chalk.blue('üìã Summary:'));\n        if (result.modifiedFiles.length > 0) {\n            this.log(chalk.green(`   Files modified: ${result.modifiedFiles.length}`));\n            if (this.verbose) {\n                result.modifiedFiles.forEach(file => {\n                    this.log(chalk.gray(`   - ${file}`));\n                });\n            }\n        }\n        else if (!dryRun) {\n            this.log(chalk.yellow('   No files were modified (already configured)'));\n        }\n        if (result.warnings.length > 0) {\n            this.log(chalk.yellow(`   Warnings: ${result.warnings.length}`));\n            if (this.verbose) {\n                result.warnings.forEach(warning => {\n                    this.log(chalk.yellow(`   ‚ö†Ô∏è  ${warning}`));\n                });\n            }\n        }\n        if (result.errors.length > 0) {\n            this.log(chalk.red(`   Errors: ${result.errors.length}`));\n            result.errors.forEach(error => {\n                this.log(chalk.red(`   ‚ùå ${error}`));\n            });\n        }\n        if (!dryRun && result.success) {\n            this.log('');\n            this.log(chalk.blue('üöÄ Next steps:'));\n            if (result.androidResult?.success) {\n                this.log(chalk.gray('   - For Android: Run \"cd android && ./gradlew clean\" to clean build cache'));\n            }\n            if (result.iosResult?.success) {\n                this.log(chalk.gray('   - For iOS: Run \"cd ios && pod install\" to install pod dependencies'));\n            }\n            this.log(chalk.gray('   - Rebuild your React Native app'));\n            this.log(chalk.gray('   - Test the module import in your JavaScript code'));\n        }\n    }\n    /**\n     * Diagnostic command to analyze current linking status\n     */\n    async diagnose(options) {\n        const projectRoot = options.projectRoot || process.cwd();\n        this.verbose = options.verbose || false;\n        this.log(chalk.blue('üîç React Native Module Linking Diagnostics'));\n        this.log(chalk.gray(`Project: ${projectRoot}`));\n        this.log('');\n        try {\n            const diagnostics = await generateDiagnostics(projectRoot, options.moduleName);\n            // Module information\n            this.log(chalk.yellow('üì¶ Module Information:'));\n            if (diagnostics.moduleConfig) {\n                this.log(chalk.green(`   ‚úÖ Module found: ${diagnostics.moduleConfig.name}`));\n                this.log(chalk.gray(`      Path: ${diagnostics.moduleConfig.modulePath}`));\n                this.log(chalk.gray(`      Platform: ${diagnostics.moduleConfig.platform}`));\n                this.log(chalk.gray(`      Package: ${diagnostics.moduleConfig.packageName}`));\n                this.log(chalk.gray(`      Class: ${diagnostics.moduleConfig.className}`));\n            }\n            else {\n                this.log(chalk.red('   ‚ùå Module not found'));\n            }\n            this.log('');\n            // Android diagnostics\n            if (diagnostics.androidDetails) {\n                this.log(chalk.yellow('ü§ñ Android Configuration:'));\n                this.log(`   MainApplication: ${diagnostics.androidDetails.mainApplicationFound ? chalk.green('‚úÖ Found') : chalk.red('‚ùå Not found')}`);\n                if (diagnostics.androidDetails.mainApplicationPath) {\n                    this.log(chalk.gray(`      Path: ${diagnostics.androidDetails.mainApplicationPath}`));\n                }\n                this.log(`   Package imported: ${diagnostics.androidDetails.packageImported ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n                this.log(`   Package registered: ${diagnostics.androidDetails.packageRegistered ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n                this.log(`   settings.gradle: ${diagnostics.androidDetails.settingsGradleConfigured ? chalk.green('‚úÖ Configured') : chalk.red('‚ùå Not configured')}`);\n                this.log(`   build.gradle: ${diagnostics.androidDetails.buildGradleConfigured ? chalk.green('‚úÖ Configured') : chalk.red('‚ùå Not configured')}`);\n                this.log('');\n            }\n            // iOS diagnostics\n            if (diagnostics.iosDetails) {\n                this.log(chalk.yellow('üçé iOS Configuration:'));\n                this.log(`   Podfile: ${diagnostics.iosDetails.podfileFound ? chalk.green('‚úÖ Found') : chalk.red('‚ùå Not found')}`);\n                if (diagnostics.iosDetails.podfilePath) {\n                    this.log(chalk.gray(`      Path: ${diagnostics.iosDetails.podfilePath}`));\n                }\n                this.log(`   Pod configured: ${diagnostics.iosDetails.podConfigured ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n                this.log(`   iOS project valid: ${diagnostics.iosDetails.iosProjectValid ? chalk.green('‚úÖ Yes') : chalk.red('‚ùå No')}`);\n                if (diagnostics.iosDetails.podInstallNeeded) {\n                    this.log(chalk.yellow('   ‚ö†Ô∏è  pod install may be needed'));\n                }\n                this.log('');\n            }\n            // Build system information\n            if (diagnostics.buildSystemInfo) {\n                this.log(chalk.yellow('üîß Build System:'));\n                if (diagnostics.buildSystemInfo.reactNativeVersion) {\n                    this.log(chalk.gray(`   React Native: ${diagnostics.buildSystemInfo.reactNativeVersion}`));\n                }\n                if (diagnostics.buildSystemInfo.nodeVersion) {\n                    this.log(chalk.gray(`   Node.js: ${diagnostics.buildSystemInfo.nodeVersion}`));\n                }\n                this.log('');\n            }\n            // Run verification\n            this.log(chalk.yellow('üîç Running verification...'));\n            const verification = await verifyModuleLinking(projectRoot, options.moduleName);\n            if (verification.success) {\n                this.log(chalk.green('‚úÖ Module linking verification passed'));\n            }\n            else {\n                this.log(chalk.red('‚ùå Module linking verification failed'));\n                if (verification.errors) {\n                    this.log(chalk.red('   Errors:'));\n                    verification.errors.forEach(error => {\n                        this.log(chalk.red(`   - ${error}`));\n                    });\n                }\n                if (verification.warnings) {\n                    this.log(chalk.yellow('   Warnings:'));\n                    verification.warnings.forEach(warning => {\n                        this.log(chalk.yellow(`   - ${warning}`));\n                    });\n                }\n            }\n        }\n        catch (error) {\n            this.log(chalk.red(`üí• Diagnostics failed: ${error instanceof Error ? error.message : String(error)}`));\n        }\n    }\n    /**\n     * Generates a manual linking guide\n     */\n    async generateGuide(options) {\n        const projectRoot = options.projectRoot || process.cwd();\n        const platform = options.platform || 'both';\n        const format = options.format || 'markdown';\n        this.verbose = options.verbose || false;\n        this.log(chalk.blue('üìñ Generating Manual Linking Guide'));\n        this.log(chalk.gray(`Project: ${projectRoot}`));\n        this.log(chalk.gray(`Platform: ${platform}`));\n        this.log(chalk.gray(`Format: ${format}`));\n        this.log('');\n        try {\n            // Resolve module configuration\n            const pathResult = await this.resolveModuleLocation(projectRoot, options);\n            if (!pathResult.success || !pathResult.modulePath) {\n                this.log(chalk.red(`‚ùå Module not found: ${pathResult.error}`));\n                return;\n            }\n            const moduleConfig = this.pathResolver.createModuleConfig(pathResult);\n            if (!moduleConfig) {\n                this.log(chalk.red('‚ùå Failed to create module configuration'));\n                return;\n            }\n            this.log(chalk.green(`‚úÖ Module found: ${moduleConfig.modulePath}`));\n            this.log(chalk.gray(`   Platforms: ${moduleConfig.platform}`));\n            this.log('');\n            // Generate guide\n            this.log(chalk.yellow('üìù Generating guide...'));\n            const guideOptions = {\n                platform,\n                projectRoot,\n                moduleConfig,\n                outputFormat: format,\n                includeVerification: true,\n                includeTroubleshooting: true\n            };\n            const guide = this.guideGenerator.generateGuide(guideOptions);\n            // Output guide\n            if (options.output) {\n                this.guideGenerator.saveGuide(guide, options.output);\n                this.log(chalk.green(`‚úÖ Guide saved to: ${options.output}`));\n            }\n            else {\n                this.log(chalk.blue('üìã Generated Manual Linking Guide:'));\n                this.log('');\n                console.log(guide);\n            }\n        }\n        catch (error) {\n            this.log(chalk.red(`üí• Guide generation failed: ${error instanceof Error ? error.message : String(error)}`));\n        }\n    }\n    /**\n     * Utility method for logging with verbose control\n     */\n    log(message) {\n        console.log(message);\n    }\n}\n/**\n * CLI Program Setup\n */\nfunction setupCLI() {\n    const program = new Command();\n    const cli = new ReactNativeModuleLinkingCLI();\n    program\n        .name('rn-module-link')\n        .description('React Native Module Linking Tool for react-native-realtime-audio-analysis')\n        .version('1.0.0');\n    // Link command\n    program\n        .command('link')\n        .description('Link the React Native module to your project')\n        .option('-p, --platform <platform>', 'Target platform (android, ios, both)', 'both')\n        .option('-d, --dry-run', 'Preview changes without modifying files', false)\n        .option('-v, --verbose', 'Enable verbose logging', false)\n        .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n        .option('-m, --module-path <path>', 'Path to the module directory')\n        .option('-n, --module-name <name>', 'Module name to link', 'react-native-realtime-audio-analysis')\n        .action(async (options) => {\n        const result = await cli.linkModule(options);\n        process.exit(result.success ? 0 : 1);\n    });\n    // Diagnose command\n    program\n        .command('diagnose')\n        .description('Diagnose current module linking status')\n        .option('-v, --verbose', 'Enable verbose logging', false)\n        .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n        .option('-n, --module-name <name>', 'Module name to diagnose', 'react-native-realtime-audio-analysis')\n        .action(async (options) => {\n        await cli.diagnose(options);\n    });\n    // Verify command\n    program\n        .command('verify')\n        .description('Verify module linking configuration')\n        .option('-v, --verbose', 'Enable verbose logging', false)\n        .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n        .option('-n, --module-name <name>', 'Module name to verify', 'react-native-realtime-audio-analysis')\n        .action(async (options) => {\n        try {\n            const verification = await verifyModuleLinking(options.projectRoot || process.cwd(), options.moduleName);\n            console.log(chalk.blue('üîç Module Linking Verification'));\n            console.log('');\n            if (verification.success) {\n                console.log(chalk.green('‚úÖ Verification passed'));\n                console.log(chalk.gray(`   ${verification.message}`));\n            }\n            else {\n                console.log(chalk.red('‚ùå Verification failed'));\n                console.log(chalk.gray(`   ${verification.message}`));\n                if (verification.errors) {\n                    console.log(chalk.red('   Errors:'));\n                    verification.errors.forEach(error => {\n                        console.log(chalk.red(`   - ${error}`));\n                    });\n                }\n                if (verification.warnings) {\n                    console.log(chalk.yellow('   Warnings:'));\n                    verification.warnings.forEach(warning => {\n                        console.log(chalk.yellow(`   - ${warning}`));\n                    });\n                }\n            }\n            process.exit(verification.success ? 0 : 1);\n        }\n        catch (error) {\n            console.log(chalk.red(`üí• Verification failed: ${error instanceof Error ? error.message : String(error)}`));\n            process.exit(1);\n        }\n    });\n    // Guide command\n    program\n        .command('guide')\n        .description('Generate manual linking guide')\n        .option('-p, --platform <platform>', 'Target platform (android, ios, both)', 'both')\n        .option('-f, --format <format>', 'Output format (markdown, text)', 'markdown')\n        .option('-o, --output <path>', 'Output file path (prints to console if not specified)')\n        .option('-v, --verbose', 'Enable verbose logging', false)\n        .option('-r, --project-root <path>', 'React Native project root directory', process.cwd())\n        .option('-n, --module-name <name>', 'Module name for guide', 'react-native-realtime-audio-analysis')\n        .action(async (options) => {\n        await cli.generateGuide(options);\n    });\n    // Rollback command\n    program\n        .command('rollback')\n        .description('Rollback previous linking changes')\n        .option('-v, --verbose', 'Enable verbose logging', false)\n        .action(async (_options) => {\n        try {\n            console.log(chalk.blue('üîÑ Rolling back module linking changes...'));\n            console.log('');\n            const orchestrator = new ReactNativeModuleLinkingOrchestrator();\n            const rollbackResult = await orchestrator.performRollback();\n            if (rollbackResult.success) {\n                console.log(chalk.green('‚úÖ Rollback completed successfully'));\n                console.log(chalk.gray(`   ${rollbackResult.message}`));\n            }\n            else {\n                console.log(chalk.red('‚ùå Rollback failed'));\n                console.log(chalk.gray(`   ${rollbackResult.message}`));\n                if (rollbackResult.errors) {\n                    console.log(chalk.red('   Errors:'));\n                    rollbackResult.errors.forEach(error => {\n                        console.log(chalk.red(`   - ${error}`));\n                    });\n                }\n            }\n            process.exit(rollbackResult.success ? 0 : 1);\n        }\n        catch (error) {\n            console.log(chalk.red(`üí• Rollback failed: ${error instanceof Error ? error.message : String(error)}`));\n            process.exit(1);\n        }\n    });\n    program.parse();\n}\n// Run CLI if this file is executed directly\nif (require.main === module) {\n    setupCLI();\n}\nexport { ReactNativeModuleLinkingCLI, setupCLI };\n"],"mappings":"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","ignoreList":[]}
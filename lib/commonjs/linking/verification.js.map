{"version":3,"names":["fs","_interopRequireWildcard","require","path","_pathResolver","_iosConfig","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","ModuleLinkingVerifier","constructor","pathResolver","PathResolver","iosManager","IOSConfigManager","verifyModuleLinking","projectRoot","moduleName","errors","warnings","pathResult","detectModuleLocation","success","message","details","createEmptyDetails","error","moduleConfig","createModuleConfig","androidVerification","verifyAndroidConfiguration","iosVerification","verifyIOSConfiguration","importTest","testModuleImport","moduleFound","androidConfigured","configured","iosConfigured","buildConfigValid","buildValid","importTestPassed","registrationVerified","registered","push","overallSuccess","length","undefined","Error","platform","mainAppPath","findMainApplicationFile","mainAppContent","readFileSync","isImported","checkPackageImported","isRegistered","checkPackageRegistered","basename","verifyAndroidBuildConfiguration","valid","_podfileInfo$pods","podfileInfo","getPodfileInfo","exists","isPodConfigured","pods","includes","name","podlockPath","join","podInstallNeeded","existsSync","_packageJson$dependen","_packageJson$devDepen","_packageJson$peerDepe","packageJsonPath","packageJson","JSON","parse","isInDependencies","dependencies","devDependencies","peerDependencies","moduleIndexPath","modulePath","modulePackageJsonPath","mainEntryExists","modulePackageJson","mainEntry","main","mainEntryPath","hasTypeDefinitions","generateDiagnostics","diagnostics","_diagnostics$moduleCo","_diagnostics$moduleCo2","androidDetails","generateAndroidDiagnostics","iosDetails","generateIOSDiagnostics","buildSystemInfo","generateBuildSystemInfo","console","warn","androidAppPath","findMainApp","dir","files","readdirSync","file","filePath","stat","statSync","isDirectory","result","content","importPattern","RegExp","packageName","className","test","packagePattern","settingsPath","settingsContent","projectName","buildGradlePath","buildContent","dependencyStatement","mainApplicationPath","mainApplicationFound","packageImported","packageRegistered","settingsGradleConfigured","buildGradleConfigured","buildConfig","some","buildFilesValid","_podfileInfo$pods2","podConfigured","iosProjectValid","validateIOSProject","podfileFound","podfilePath","info","_packageJson$dependen2","_packageJson$devDepen2","reactNativeVersion","nodeVersion","process","version","exports","verifier"],"sources":["verification.ts"],"sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\nimport { ModuleConfig, PathResolver } from './path-resolver';\nimport { IOSConfigManager } from './ios-config';\n\nexport interface VerificationResult {\n  success: boolean;\n  message: string;\n  details: VerificationDetails;\n  errors?: string[];\n  warnings?: string[];\n}\n\nexport interface VerificationDetails {\n  moduleFound: boolean;\n  androidConfigured: boolean;\n  iosConfigured: boolean;\n  buildConfigValid: boolean;\n  importTestPassed: boolean;\n  registrationVerified: boolean;\n}\n\nexport interface DiagnosticInfo {\n  projectRoot: string;\n  moduleConfig?: ModuleConfig;\n  androidDetails?: AndroidDiagnostics;\n  iosDetails?: IOSDiagnostics;\n  buildSystemInfo?: BuildSystemInfo;\n}\n\nexport interface AndroidDiagnostics {\n  mainApplicationFound: boolean;\n  mainApplicationPath?: string;\n  packageImported: boolean;\n  packageRegistered: boolean;\n  settingsGradleConfigured: boolean;\n  buildGradleConfigured: boolean;\n  buildFilesValid: boolean;\n}\n\nexport interface IOSDiagnostics {\n  podfileFound: boolean;\n  podfilePath?: string;\n  podConfigured: boolean;\n  iosProjectValid: boolean;\n  podInstallNeeded: boolean;\n}\n\nexport interface BuildSystemInfo {\n  gradleVersion?: string;\n  podVersion?: string;\n  reactNativeVersion?: string;\n  nodeVersion?: string;\n}\n\nexport class ModuleLinkingVerifier {\n  private pathResolver: PathResolver;\n  private iosManager: IOSConfigManager;\n\n  constructor() {\n    this.pathResolver = new PathResolver();\n    this.iosManager = new IOSConfigManager();\n  }\n\n  /**\n   * Performs comprehensive verification of module linking\n   */\n  public async verifyModuleLinking(\n    projectRoot: string, \n    moduleName?: string\n  ): Promise<VerificationResult> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n    \n    try {\n      // Step 1: Detect module location\n      const pathResult = this.pathResolver.detectModuleLocation(projectRoot, moduleName);\n      if (!pathResult.success) {\n        return {\n          success: false,\n          message: 'Module not found',\n          details: this.createEmptyDetails(),\n          errors: [pathResult.error || 'Unknown path resolution error']\n        };\n      }\n\n      const moduleConfig = this.pathResolver.createModuleConfig(pathResult);\n      if (!moduleConfig) {\n        return {\n          success: false,\n          message: 'Failed to create module configuration',\n          details: this.createEmptyDetails(),\n          errors: ['Could not create module configuration from path result']\n        };\n      }\n\n      // Step 2: Verify Android configuration\n      const androidVerification = await this.verifyAndroidConfiguration(projectRoot, moduleConfig);\n      \n      // Step 3: Verify iOS configuration  \n      const iosVerification = await this.verifyIOSConfiguration(projectRoot, moduleConfig);\n\n      // Step 4: Test basic module import\n      const importTest = await this.testModuleImport(projectRoot, moduleConfig);\n\n      // Compile results\n      const details: VerificationDetails = {\n        moduleFound: true,\n        androidConfigured: androidVerification.configured,\n        iosConfigured: iosVerification.configured,\n        buildConfigValid: androidVerification.buildValid && iosVerification.buildValid,\n        importTestPassed: importTest.success,\n        registrationVerified: androidVerification.registered || iosVerification.registered\n      };\n\n      // Collect errors and warnings\n      errors.push(...androidVerification.errors, ...iosVerification.errors, ...importTest.errors);\n      warnings.push(...androidVerification.warnings, ...iosVerification.warnings, ...importTest.warnings);\n\n      const overallSuccess = details.moduleFound && \n                           (details.androidConfigured || details.iosConfigured) &&\n                           details.buildConfigValid &&\n                           details.registrationVerified;\n\n      return {\n        success: overallSuccess,\n        message: overallSuccess ? 'Module linking verification passed' : 'Module linking verification failed',\n        details,\n        errors: errors.length > 0 ? errors : undefined,\n        warnings: warnings.length > 0 ? warnings : undefined\n      };\n\n    } catch (error) {\n      return {\n        success: false,\n        message: 'Verification process failed',\n        details: this.createEmptyDetails(),\n        errors: [error instanceof Error ? error.message : String(error)]\n      };\n    }\n  }\n\n  /**\n   * Verifies Android platform configuration\n   */\n  private async verifyAndroidConfiguration(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): Promise<{\n    configured: boolean;\n    registered: boolean;\n    buildValid: boolean;\n    errors: string[];\n    warnings: string[];\n  }> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    try {\n      // Check if Android platform is supported\n      if (moduleConfig.platform === 'ios') {\n        return {\n          configured: false,\n          registered: false,\n          buildValid: true, // Not applicable\n          errors: [],\n          warnings: ['Module does not support Android platform']\n        };\n      }\n\n      // Verify MainApplication configuration\n      const mainAppPath = this.findMainApplicationFile(projectRoot);\n      if (!mainAppPath) {\n        errors.push('MainApplication file not found');\n        return { configured: false, registered: false, buildValid: false, errors, warnings };\n      }\n\n      const mainAppContent = fs.readFileSync(mainAppPath, 'utf8');\n      const isImported = this.checkPackageImported(mainAppContent, moduleConfig);\n      const isRegistered = this.checkPackageRegistered(mainAppContent, moduleConfig);\n\n      if (!isImported) {\n        errors.push(`Package import missing in ${path.basename(mainAppPath)}`);\n      }\n      if (!isRegistered) {\n        errors.push(`Package not registered in getPackages() method`);\n      }\n\n      // Verify build configuration\n      const buildConfigValid = this.verifyAndroidBuildConfiguration(projectRoot, moduleConfig);\n      if (!buildConfigValid.valid) {\n        errors.push(...buildConfigValid.errors);\n      }\n\n      const configured = isImported && isRegistered;\n      const registered = isRegistered;\n\n      return {\n        configured,\n        registered,\n        buildValid: buildConfigValid.valid,\n        errors,\n        warnings\n      };\n\n    } catch (error) {\n      errors.push(`Android verification failed: ${error instanceof Error ? error.message : String(error)}`);\n      return { configured: false, registered: false, buildValid: false, errors, warnings };\n    }\n  }\n\n  /**\n   * Verifies iOS platform configuration\n   */\n  private async verifyIOSConfiguration(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): Promise<{\n    configured: boolean;\n    registered: boolean;\n    buildValid: boolean;\n    errors: string[];\n    warnings: string[];\n  }> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    try {\n      // Check if iOS platform is supported\n      if (moduleConfig.platform === 'android') {\n        return {\n          configured: false,\n          registered: false,\n          buildValid: true, // Not applicable\n          errors: [],\n          warnings: ['Module does not support iOS platform']\n        };\n      }\n\n      // Verify Podfile configuration\n      const podfileInfo = this.iosManager.getPodfileInfo(projectRoot);\n      if (!podfileInfo.exists) {\n        errors.push('Podfile not found');\n        return { configured: false, registered: false, buildValid: false, errors, warnings };\n      }\n\n      const isPodConfigured = podfileInfo.pods?.includes(moduleConfig.name) || false;\n      if (!isPodConfigured) {\n        errors.push(`Pod '${moduleConfig.name}' not found in Podfile`);\n      }\n\n      // Check if pod install is needed\n      const podlockPath = path.join(projectRoot, 'ios', 'Podfile.lock');\n      const podInstallNeeded = !fs.existsSync(podlockPath);\n      if (podInstallNeeded) {\n        warnings.push('pod install may be needed - Podfile.lock not found');\n      }\n\n      return {\n        configured: isPodConfigured,\n        registered: isPodConfigured, // For iOS, configured means registered\n        buildValid: true, // iOS build validation is more complex and typically handled by Xcode\n        errors,\n        warnings\n      };\n\n    } catch (error) {\n      errors.push(`iOS verification failed: ${error instanceof Error ? error.message : String(error)}`);\n      return { configured: false, registered: false, buildValid: false, errors, warnings };\n    }\n  }\n\n  /**\n   * Tests basic module import functionality\n   */\n  private async testModuleImport(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): Promise<{\n    success: boolean;\n    errors: string[];\n    warnings: string[];\n  }> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    try {\n      // Check if the module can be imported from JavaScript\n      const packageJsonPath = path.join(projectRoot, 'package.json');\n      if (!fs.existsSync(packageJsonPath)) {\n        errors.push('package.json not found in project root');\n        return { success: false, errors, warnings };\n      }\n\n      const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));\n      \n      // Check if module is listed in dependencies\n      const isInDependencies = packageJson.dependencies?.[moduleConfig.name] ||\n                              packageJson.devDependencies?.[moduleConfig.name] ||\n                              packageJson.peerDependencies?.[moduleConfig.name];\n\n      if (!isInDependencies) {\n        warnings.push(`Module '${moduleConfig.name}' not found in package.json dependencies`);\n      }\n\n      // Try to resolve the module's main entry point\n      const moduleIndexPath = path.join(moduleConfig.modulePath, 'index.js');\n      const modulePackageJsonPath = path.join(moduleConfig.modulePath, 'package.json');\n      \n      let mainEntryExists = false;\n      if (fs.existsSync(modulePackageJsonPath)) {\n        try {\n          const modulePackageJson = JSON.parse(fs.readFileSync(modulePackageJsonPath, 'utf8'));\n          const mainEntry = modulePackageJson.main || 'index.js';\n          const mainEntryPath = path.join(moduleConfig.modulePath, mainEntry);\n          mainEntryExists = fs.existsSync(mainEntryPath);\n        } catch (error) {\n          warnings.push('Could not parse module package.json');\n        }\n      } else if (fs.existsSync(moduleIndexPath)) {\n        mainEntryExists = true;\n      }\n\n      if (!mainEntryExists) {\n        errors.push('Module main entry point not found');\n      }\n\n      // Check for TypeScript definitions if applicable\n      const hasTypeDefinitions = fs.existsSync(path.join(moduleConfig.modulePath, 'index.d.ts')) ||\n                                fs.existsSync(path.join(moduleConfig.modulePath, 'lib', 'typescript'));\n\n      if (!hasTypeDefinitions) {\n        warnings.push('TypeScript definitions not found - may cause import issues in TypeScript projects');\n      }\n\n      return {\n        success: mainEntryExists && errors.length === 0,\n        errors,\n        warnings\n      };\n\n    } catch (error) {\n      errors.push(`Import test failed: ${error instanceof Error ? error.message : String(error)}`);\n      return { success: false, errors, warnings };\n    }\n  }\n\n  /**\n   * Generates comprehensive diagnostic information\n   */\n  public async generateDiagnostics(\n    projectRoot: string, \n    moduleName?: string\n  ): Promise<DiagnosticInfo> {\n    const diagnostics: DiagnosticInfo = {\n      projectRoot\n    };\n\n    try {\n      // Get module configuration\n      const pathResult = this.pathResolver.detectModuleLocation(projectRoot, moduleName);\n      if (pathResult.success) {\n        diagnostics.moduleConfig = this.pathResolver.createModuleConfig(pathResult) || undefined;\n      }\n\n      // Android diagnostics\n      if (diagnostics.moduleConfig?.platform !== 'ios') {\n        diagnostics.androidDetails = await this.generateAndroidDiagnostics(projectRoot, diagnostics.moduleConfig);\n      }\n\n      // iOS diagnostics\n      if (diagnostics.moduleConfig?.platform !== 'android') {\n        diagnostics.iosDetails = await this.generateIOSDiagnostics(projectRoot, diagnostics.moduleConfig);\n      }\n\n      // Build system information\n      diagnostics.buildSystemInfo = await this.generateBuildSystemInfo(projectRoot);\n\n    } catch (error) {\n      // Diagnostics should not fail completely, just log what we can\n      console.warn('Error generating diagnostics:', error);\n    }\n\n    return diagnostics;\n  }\n\n  /**\n   * Helper methods\n   */\n  private createEmptyDetails(): VerificationDetails {\n    return {\n      moduleFound: false,\n      androidConfigured: false,\n      iosConfigured: false,\n      buildConfigValid: false,\n      importTestPassed: false,\n      registrationVerified: false\n    };\n  }\n\n  private findMainApplicationFile(projectRoot: string): string | null {\n    const androidAppPath = path.join(projectRoot, 'android', 'app', 'src', 'main', 'java');\n    \n    if (!fs.existsSync(androidAppPath)) {\n      return null;\n    }\n\n    const findMainApp = (dir: string): string | null => {\n      const files = fs.readdirSync(dir);\n      \n      for (const file of files) {\n        const filePath = path.join(dir, file);\n        const stat = fs.statSync(filePath);\n        \n        if (stat.isDirectory()) {\n          const result = findMainApp(filePath);\n          if (result) return result;\n        } else if (file === 'MainApplication.kt' || file === 'MainApplication.java') {\n          return filePath;\n        }\n      }\n      \n      return null;\n    };\n\n    return findMainApp(androidAppPath);\n  }\n\n  private checkPackageImported(content: string, moduleConfig: ModuleConfig): boolean {\n    const importPattern = new RegExp(`import\\\\s+${moduleConfig.packageName}\\\\.${moduleConfig.className}`);\n    return importPattern.test(content);\n  }\n\n  private checkPackageRegistered(content: string, moduleConfig: ModuleConfig): boolean {\n    const packagePattern = new RegExp(`${moduleConfig.className}\\\\(\\\\)`);\n    return packagePattern.test(content);\n  }\n\n  private verifyAndroidBuildConfiguration(\n    projectRoot: string, \n    moduleConfig: ModuleConfig\n  ): { valid: boolean; errors: string[] } {\n    const errors: string[] = [];\n\n    // Check settings.gradle\n    const settingsPath = path.join(projectRoot, 'android', 'settings.gradle');\n    if (fs.existsSync(settingsPath)) {\n      const settingsContent = fs.readFileSync(settingsPath, 'utf8');\n      const projectName = `:${moduleConfig.name}`;\n      if (!settingsContent.includes(projectName)) {\n        errors.push(`Project '${projectName}' not included in settings.gradle`);\n      }\n    } else {\n      errors.push('settings.gradle not found');\n    }\n\n    // Check app/build.gradle\n    const buildGradlePath = path.join(projectRoot, 'android', 'app', 'build.gradle');\n    if (fs.existsSync(buildGradlePath)) {\n      const buildContent = fs.readFileSync(buildGradlePath, 'utf8');\n      const dependencyStatement = `implementation project(':${moduleConfig.name}')`;\n      if (!buildContent.includes(dependencyStatement)) {\n        errors.push(`Dependency '${dependencyStatement}' not found in app/build.gradle`);\n      }\n    } else {\n      errors.push('app/build.gradle not found');\n    }\n\n    return { valid: errors.length === 0, errors };\n  }\n\n  private async generateAndroidDiagnostics(\n    projectRoot: string, \n    moduleConfig?: ModuleConfig\n  ): Promise<AndroidDiagnostics> {\n    const mainApplicationPath = this.findMainApplicationFile(projectRoot);\n    const mainApplicationFound = !!mainApplicationPath;\n    \n    let packageImported = false;\n    let packageRegistered = false;\n    \n    if (mainApplicationPath && moduleConfig) {\n      const content = fs.readFileSync(mainApplicationPath, 'utf8');\n      packageImported = this.checkPackageImported(content, moduleConfig);\n      packageRegistered = this.checkPackageRegistered(content, moduleConfig);\n    }\n\n    let settingsGradleConfigured = false;\n    let buildGradleConfigured = false;\n    \n    if (moduleConfig) {\n      const buildConfig = this.verifyAndroidBuildConfiguration(projectRoot, moduleConfig);\n      settingsGradleConfigured = !buildConfig.errors.some(e => e.includes('settings.gradle'));\n      buildGradleConfigured = !buildConfig.errors.some(e => e.includes('build.gradle'));\n    }\n\n    return {\n      mainApplicationFound,\n      mainApplicationPath: mainApplicationPath || undefined,\n      packageImported,\n      packageRegistered,\n      settingsGradleConfigured,\n      buildGradleConfigured,\n      buildFilesValid: settingsGradleConfigured && buildGradleConfigured\n    };\n  }\n\n  private async generateIOSDiagnostics(\n    projectRoot: string, \n    moduleConfig?: ModuleConfig\n  ): Promise<IOSDiagnostics> {\n    const podfileInfo = this.iosManager.getPodfileInfo(projectRoot);\n    const podConfigured = moduleConfig ? (podfileInfo.pods?.includes(moduleConfig.name) || false) : false;\n    const iosProjectValid = this.iosManager.validateIOSProject(projectRoot).success;\n    const podInstallNeeded = !fs.existsSync(path.join(projectRoot, 'ios', 'Podfile.lock'));\n\n    return {\n      podfileFound: podfileInfo.exists,\n      podfilePath: podfileInfo.path,\n      podConfigured,\n      iosProjectValid,\n      podInstallNeeded\n    };\n  }\n\n  private async generateBuildSystemInfo(projectRoot: string): Promise<BuildSystemInfo> {\n    const info: BuildSystemInfo = {};\n\n    try {\n      // Get React Native version\n      const packageJsonPath = path.join(projectRoot, 'package.json');\n      if (fs.existsSync(packageJsonPath)) {\n        const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));\n        info.reactNativeVersion = packageJson.dependencies?.['react-native'] || \n                                 packageJson.devDependencies?.['react-native'];\n      }\n\n      // Get Node version\n      info.nodeVersion = process.version;\n\n    } catch (error) {\n      // Ignore errors in build system info gathering\n    }\n\n    return info;\n  }\n}\n\n/**\n * Convenience function to verify module linking\n */\nexport async function verifyModuleLinking(\n  projectRoot: string, \n  moduleName?: string\n): Promise<VerificationResult> {\n  const verifier = new ModuleLinkingVerifier();\n  return verifier.verifyModuleLinking(projectRoot, moduleName);\n}\n\n/**\n * Convenience function to generate diagnostics\n */\nexport async function generateDiagnostics(\n  projectRoot: string, \n  moduleName?: string\n): Promise<DiagnosticInfo> {\n  const verifier = new ModuleLinkingVerifier();\n  return verifier.generateDiagnostics(projectRoot, moduleName);\n}"],"mappings":"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","ignoreList":[]}